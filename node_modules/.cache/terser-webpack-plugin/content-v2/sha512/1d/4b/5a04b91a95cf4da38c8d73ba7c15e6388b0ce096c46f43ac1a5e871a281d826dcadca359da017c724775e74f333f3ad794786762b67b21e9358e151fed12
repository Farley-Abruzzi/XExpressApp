{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{o0Qb:function(l,n,o){\"use strict\";o.r(n);var u=o(\"8Y7J\"),t=o(\"mrSG\"),e=o(\"bRl7\"),r=o(\"wh8y\"),i=o(\"n90K\"),a=o(\"ZZ/e\"),b=o(\"x4fO\"),c=o(\"on2l\");class s{constructor(l,n,o,u,t,e,r,i){this.bluetoothSerial=l,this.contribService=n,this.datePipe=o,this.popoverCtrl=u,this.loadingController=t,this.toastCtrl=e,this.usuarioService=r,this.storage=i,this.dtStart=new Date,this.dtEnd=new Date(this.dtStart.getFullYear(),this.dtStart.getMonth()+1,0),this.dtInicio=\" \",this.dtFim=\" \"}ngOnInit(){this.carregarPeriodo(),this.connect()}carregarPeriodo(){this.carregarResumo()}carregarResumo(){return t.b(this,void 0,void 0,function*(){let l=yield this.presentLoading(),n=this.storage.getLocalUser();n&&n.email&&this.usuarioService.findByEmail(n.email).subscribe(n=>{this.usuario=n,this.codMens=this.usuario.codmensageiro,this.contribService.getResumo(this.codMens,this.dtInicio,this.dtFim).subscribe(n=>{this.objetos=n,l.dismiss()},l=>{console.log(l)})},l=>{403==l.status&&console.log(l.status)})})}presentToast(l){return t.b(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:l,duration:2e3,mode:\"ios\",color:\"dark\"})).present()})}Imprimir(){this.conversorDate(),this.bluetoothSerial.write(\"\\n\\n\\n  *** RELATORIO ***\\n\\nContabilizando o Periodo:\\nDE \"+this.dtInicio+\" A \"+this.dtFim+\"\\n\\nTotal de contribuicoes: R$\"+this.objetos.totalQtd+\"\\n\\nA Receber: R$\"+this.objetos.valorEmAberto.toFixed(2)+\"\\n\\nRecebidas: \"+this.objetos.qtdRecebido+\"\\n\\nDevolvidas: \"+this.objetos.qtdDevolvido+\"\\n\\nCanceladas: \"+this.objetos.qtdCancelado+\"\\n\\n\\n\\n\"),console.log(\"Imprimindo\")}conversorDate(){this.dtInicio=this.datePipe.transform(this.dtStart,\"dd/MM/yyyy\"),this.dtFim=this.datePipe.transform(this.dtEnd,\"dd/MM/yyyy\")}carregarDtInicio(l){this.dtInicio=this.datePipe.transform(new Date(l.detail.value),\"yyyy-MM-dd\"),console.log(\"Data Inicio \"+this.dtInicio)}carregarDtFim(l){this.dtFim=this.datePipe.transform(new Date(l.detail.value),\"yyyy-MM-dd\"),console.log(\"Data Fim \"+this.dtFim),this.carregarPeriodo()}presentLoading(){return t.b(this,void 0,void 0,function*(){const l=yield this.loadingController.create({cssClass:\"loadingClass\",message:\"Carregando...\",animated:!0,spinner:\"circles\",translucent:!0});return l.present(),l})}connect(){this.bluetoothSerial.connectInsecure(\"00:02:5B:B4:13:87\").subscribe(l=>{console.log(\"Conectado\",l)})}mostrarPop(l){return t.b(this,void 0,void 0,function*(){const n=yield this.popoverCtrl.create({component:b.a,event:l,mode:\"ios\",translucent:!0,animated:!0});yield n.present()})}}class d{}var h=o(\"qD9K\"),g=o(\"pMnS\"),m=o(\"oBZk\"),p=o(\"s7LF\"),C=o(\"SVse\"),k=u.pb({encapsulation:0,styles:[[\".buttonPrint[_ngcontent-%COMP%]{--color-activated:#3880ff!important;color:#10dc60}.calendarStart[_ngcontent-%COMP%]{position:fixed;top:25px;right:50%;--ripple-color:#192035!important}.calendarEnd[_ngcontent-%COMP%]{position:fixed;top:25px;left:50%;--ripple-color:#192035!important}.itemCalendar[_ngcontent-%COMP%]{--inner-padding-bottom:5%!important}.sizeLabel[_ngcontent-%COMP%]{font-size:20px}.ListPorCidade[_ngcontent-%COMP%]{--background:none;background-color:#d7d8da!important}.LabelPeriodo[_ngcontent-%COMP%]{margin-bottom:15%!important}.SizeToolbar[_ngcontent-%COMP%]{height:70px}.ButtonPorCidade[_ngcontent-%COMP%]{--border-radius:10px!important}.loadingClass[_ngcontent-%COMP%]{--background:none;--background-color:#192035!important;--spinner-color:#0ef366!important}\"]],data:{}});function f(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,89,\"ion-list\",[],null,null,null,m.ab,m.s)),u.qb(1,49152,null,0,a.P,[u.h,u.k,u.x],null,null),(l()(),u.rb(2,0,null,0,28,\"ion-toolbar\",[[\"class\",\"SizeToolbar\"],[\"color\",\"success\"],[\"text-center\",\"\"]],null,null,null,m.pb,m.H)),u.qb(3,49152,null,0,a.Cb,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.rb(4,0,null,0,2,\"ion-label\",[[\"class\",\"LabelPeriodo\"]],null,null,null,m.Z,m.r)),u.qb(5,49152,null,0,a.O,[u.h,u.k,u.x],null,null),(l()(),u.Jb(-1,0,[\"Per\\xedodo\"])),(l()(),u.rb(7,0,null,0,11,\"ion-button\",[[\"class\",\"calendarStart\"],[\"color\",\"dark\"],[\"fill\",\"clear\"],[\"slot\",\"start\"]],null,null,null,m.L,m.d)),u.qb(8,49152,null,0,a.l,[u.h,u.k,u.x],{color:[0,\"color\"],fill:[1,\"fill\"]},null),(l()(),u.Jb(-1,0,[\"De \"])),(l()(),u.rb(10,0,null,0,1,\"ion-icon\",[[\"name\",\"calendar\"]],null,null,null,m.W,m.o)),u.qb(11,49152,null,0,a.D,[u.h,u.k,u.x],{name:[0,\"name\"]},null),(l()(),u.rb(12,0,null,0,6,\"ion-datetime\",[[\"cancelText\",\"Cancelar\"],[\"class\",\"dateTime-1\"],[\"display-format\",\"DD/MM/YYYY\"],[\"done-text\",\"Ok\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ionChange\"],[null,\"ionBlur\"]],function(l,n,o){var t=!0,e=l.component;return\"ionBlur\"===n&&(t=!1!==u.Cb(l,13)._handleBlurEvent(o.target)&&t),\"ionChange\"===n&&(t=!1!==u.Cb(l,13)._handleChangeEvent(o.target)&&t),\"ionChange\"===n&&(t=!1!==e.carregarDtInicio(o)&&t),t},m.T,m.l)),u.qb(13,16384,null,0,a.Nb,[u.k],null,null),u.Gb(1024,null,p.b,function(l){return[l]},[a.Nb]),u.qb(15,671744,null,0,p.e,[[8,null],[8,null],[8,null],[6,p.b]],{model:[0,\"model\"]},null),u.Gb(2048,null,p.c,null,[p.e]),u.qb(17,16384,null,0,p.d,[[4,p.c]],null,null),u.qb(18,49152,null,0,a.w,[u.h,u.k,u.x],{cancelText:[0,\"cancelText\"]},null),(l()(),u.rb(19,0,null,0,11,\"ion-button\",[[\"class\",\"calendarEnd\"],[\"color\",\"dark\"],[\"fill\",\"clear\"],[\"slot\",\"start\"]],null,null,null,m.L,m.d)),u.qb(20,49152,null,0,a.l,[u.h,u.k,u.x],{color:[0,\"color\"],fill:[1,\"fill\"]},null),(l()(),u.Jb(-1,0,[\"At\\xe9 \"])),(l()(),u.rb(22,0,null,0,1,\"ion-icon\",[[\"name\",\"calendar\"]],null,null,null,m.W,m.o)),u.qb(23,49152,null,0,a.D,[u.h,u.k,u.x],{name:[0,\"name\"]},null),(l()(),u.rb(24,0,null,0,6,\"ion-datetime\",[[\"cancelText\",\"Cancelar\"],[\"class\",\"dateTime-2\"],[\"display-format\",\"DD/MM/YYYY\"],[\"done-text\",\"Ok\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ionChange\"],[null,\"ionBlur\"]],function(l,n,o){var t=!0,e=l.component;return\"ionBlur\"===n&&(t=!1!==u.Cb(l,25)._handleBlurEvent(o.target)&&t),\"ionChange\"===n&&(t=!1!==u.Cb(l,25)._handleChangeEvent(o.target)&&t),\"ionChange\"===n&&(t=!1!==e.carregarDtFim(o)&&t),t},m.T,m.l)),u.qb(25,16384,null,0,a.Nb,[u.k],null,null),u.Gb(1024,null,p.b,function(l){return[l]},[a.Nb]),u.qb(27,671744,null,0,p.e,[[8,null],[8,null],[8,null],[6,p.b]],{model:[0,\"model\"]},null),u.Gb(2048,null,p.c,null,[p.e]),u.qb(29,16384,null,0,p.d,[[4,p.c]],null,null),u.qb(30,49152,null,0,a.w,[u.h,u.k,u.x],{cancelText:[0,\"cancelText\"]},null),(l()(),u.rb(31,0,null,0,3,\"ion-button\",[[\"class\",\"ButtonPorCidade\"],[\"color\",\"success\"],[\"expand\",\"block\"],[\"fill\",\"outline\"]],null,[[null,\"click\"]],function(l,n,o){var u=!0;return\"click\"===n&&(u=!1!==l.component.mostrarPop(o)&&u),u},m.L,m.d)),u.qb(32,49152,null,0,a.l,[u.h,u.k,u.x],{color:[0,\"color\"],expand:[1,\"expand\"],fill:[2,\"fill\"]},null),(l()(),u.rb(33,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,[\"Ver Por Cidade\"])),(l()(),u.rb(35,0,null,0,54,\"ion-card\",[[\"color\",\"light\"]],null,null,null,m.Q,m.f)),u.qb(36,49152,null,0,a.n,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.rb(37,0,null,0,7,\"ion-item\",[[\"color\",\"medium\"]],null,null,null,m.Y,m.q)),u.qb(38,49152,null,0,a.I,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.rb(39,0,null,0,5,\"ion-label\",[],null,null,null,m.Z,m.r)),u.qb(40,49152,null,0,a.O,[u.h,u.k,u.x],null,null),(l()(),u.rb(41,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,[\"Recebidos (Hoje):\"])),(l()(),u.Jb(43,0,[\" \",\"\"])),u.Fb(44,3),(l()(),u.rb(45,0,null,0,7,\"ion-item\",[[\"color\",\"light\"]],null,null,null,m.Y,m.q)),u.qb(46,49152,null,0,a.I,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.rb(47,0,null,0,5,\"ion-label\",[],null,null,null,m.Z,m.r)),u.qb(48,49152,null,0,a.O,[u.h,u.k,u.x],null,null),(l()(),u.rb(49,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,[\"Total de contribui\\xe7\\xf5es:\"])),(l()(),u.Jb(51,0,[\" \",\"\"])),u.Fb(52,3),(l()(),u.rb(53,0,null,0,7,\"ion-item\",[[\"color\",\"light\"]],null,null,null,m.Y,m.q)),u.qb(54,49152,null,0,a.I,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.rb(55,0,null,0,5,\"ion-label\",[],null,null,null,m.Z,m.r)),u.qb(56,49152,null,0,a.O,[u.h,u.k,u.x],null,null),(l()(),u.rb(57,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,[\"A Receber:\"])),(l()(),u.Jb(59,0,[\" \",\"\"])),u.Fb(60,3),(l()(),u.rb(61,0,null,0,6,\"ion-item\",[[\"color\",\"light\"]],null,null,null,m.Y,m.q)),u.qb(62,49152,null,0,a.I,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.rb(63,0,null,0,4,\"ion-label\",[[\"color\",\"medium\"]],null,null,null,m.Z,m.r)),u.qb(64,49152,null,0,a.O,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.rb(65,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,[\"Em Aberto:\"])),(l()(),u.Jb(67,0,[\" \",\"\"])),(l()(),u.rb(68,0,null,0,6,\"ion-item\",[[\"color\",\"light\"]],null,null,null,m.Y,m.q)),u.qb(69,49152,null,0,a.I,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.rb(70,0,null,0,4,\"ion-label\",[[\"color\",\"success\"]],null,null,null,m.Z,m.r)),u.qb(71,49152,null,0,a.O,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.rb(72,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,[\"Recebidas:\"])),(l()(),u.Jb(74,0,[\" \",\"\"])),(l()(),u.rb(75,0,null,0,6,\"ion-item\",[[\"color\",\"light\"]],null,null,null,m.Y,m.q)),u.qb(76,49152,null,0,a.I,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.rb(77,0,null,0,4,\"ion-label\",[[\"color\",\"danger\"]],null,null,null,m.Z,m.r)),u.qb(78,49152,null,0,a.O,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.rb(79,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,[\"Devolvidas:\"])),(l()(),u.Jb(81,0,[\" \",\"\"])),(l()(),u.rb(82,0,null,0,6,\"ion-item\",[[\"color\",\"light\"]],null,null,null,m.Y,m.q)),u.qb(83,49152,null,0,a.I,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.rb(84,0,null,0,4,\"ion-label\",[[\"color\",\"danger\"]],null,null,null,m.Z,m.r)),u.qb(85,49152,null,0,a.O,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.rb(86,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),u.Jb(-1,null,[\"Canceladas:\"])),(l()(),u.Jb(88,0,[\" \",\"\"])),(l()(),u.rb(89,0,null,0,0,\"br\",[],null,null,null,null,null))],function(l,n){var o=n.component;l(n,3,0,\"success\"),l(n,8,0,\"dark\",\"clear\"),l(n,11,0,\"calendar\"),l(n,15,0,o.dtStart.toISOString()),l(n,18,0,\"Cancelar\"),l(n,20,0,\"dark\",\"clear\"),l(n,23,0,\"calendar\"),l(n,27,0,o.dtEnd.toISOString()),l(n,30,0,\"Cancelar\"),l(n,32,0,\"success\",\"block\",\"outline\"),l(n,36,0,\"light\"),l(n,38,0,\"medium\"),l(n,46,0,\"light\"),l(n,54,0,\"light\"),l(n,62,0,\"light\"),l(n,64,0,\"medium\"),l(n,69,0,\"light\"),l(n,71,0,\"success\"),l(n,76,0,\"light\"),l(n,78,0,\"danger\"),l(n,83,0,\"light\"),l(n,85,0,\"danger\")},function(l,n){var o=n.component;l(n,12,0,u.Cb(n,17).ngClassUntouched,u.Cb(n,17).ngClassTouched,u.Cb(n,17).ngClassPristine,u.Cb(n,17).ngClassDirty,u.Cb(n,17).ngClassValid,u.Cb(n,17).ngClassInvalid,u.Cb(n,17).ngClassPending),l(n,24,0,u.Cb(n,29).ngClassUntouched,u.Cb(n,29).ngClassTouched,u.Cb(n,29).ngClassPristine,u.Cb(n,29).ngClassDirty,u.Cb(n,29).ngClassValid,u.Cb(n,29).ngClassInvalid,u.Cb(n,29).ngClassPending);var t=u.Kb(n,43,0,l(n,44,0,u.Cb(n.parent,0),o.objetos.qtdRecebido,\"BRL\",!0));l(n,43,0,t);var e=u.Kb(n,51,0,l(n,52,0,u.Cb(n.parent,0),o.objetos.totalQtd,\"BRL\",!0));l(n,51,0,e);var r=u.Kb(n,59,0,l(n,60,0,u.Cb(n.parent,0),o.objetos.valorEmAberto,\"BRL\",!0));l(n,59,0,r),l(n,67,0,o.objetos.qtdEmAberto),l(n,74,0,o.objetos.qtdRecebido),l(n,81,0,o.objetos.qtdDevolvido),l(n,88,0,o.objetos.qtdCancelado)})}function q(l){return u.Lb(0,[u.Eb(0,C.c,[u.s]),(l()(),u.rb(1,0,null,null,15,\"ion-header\",[],null,null,null,m.V,m.n)),u.qb(2,49152,null,0,a.C,[u.h,u.k,u.x],null,null),(l()(),u.rb(3,0,null,0,13,\"ion-toolbar\",[[\"color\",\"dark\"]],null,null,null,m.pb,m.H)),u.qb(4,49152,null,0,a.Cb,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.rb(5,0,null,0,3,\"ion-button\",[[\"class\",\"buttonPrint\"],[\"fill\",\"clear\"],[\"slot\",\"end\"]],null,[[null,\"click\"]],function(l,n,o){var u=!0;return\"click\"===n&&(u=!1!==l.component.Imprimir()&&u),u},m.L,m.d)),u.qb(6,49152,null,0,a.l,[u.h,u.k,u.x],{fill:[0,\"fill\"]},null),(l()(),u.rb(7,0,null,0,1,\"ion-icon\",[[\"name\",\"print\"]],null,null,null,m.W,m.o)),u.qb(8,49152,null,0,a.D,[u.h,u.k,u.x],{name:[0,\"name\"]},null),(l()(),u.rb(9,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,m.M,m.e)),u.qb(10,49152,null,0,a.m,[u.h,u.k,u.x],null,null),(l()(),u.rb(11,0,null,0,2,\"ion-back-button\",[[\"defaultHref\",\"/\"]],null,[[null,\"click\"]],function(l,n,o){var t=!0;return\"click\"===n&&(t=!1!==u.Cb(l,13).onClick(o)&&t),t},m.K,m.c)),u.qb(12,49152,null,0,a.h,[u.h,u.k,u.x],{defaultHref:[0,\"defaultHref\"]},null),u.qb(13,16384,null,0,a.i,[[2,a.ib],a.Ib],{defaultHref:[0,\"defaultHref\"]},null),(l()(),u.rb(14,0,null,0,2,\"ion-title\",[],null,null,null,m.nb,m.F)),u.qb(15,49152,null,0,a.Ab,[u.h,u.k,u.x],null,null),(l()(),u.Jb(-1,0,[\"Relat\\xf3rios\"])),(l()(),u.rb(17,0,null,null,9,\"ion-content\",[[\"color\",\"light\"]],null,null,null,m.S,m.k)),u.qb(18,49152,null,0,a.v,[u.h,u.k,u.x],{color:[0,\"color\"]},null),(l()(),u.rb(19,0,null,0,7,\"ion-grid\",[],null,null,null,m.U,m.m)),u.qb(20,49152,null,0,a.B,[u.h,u.k,u.x],null,null),(l()(),u.rb(21,0,null,0,5,\"ion-row\",[],null,null,null,m.db,m.v)),u.qb(22,49152,null,0,a.jb,[u.h,u.k,u.x],null,null),(l()(),u.rb(23,0,null,0,3,\"ion-col\",[],null,null,null,m.R,m.j)),u.qb(24,49152,null,0,a.u,[u.h,u.k,u.x],null,null),(l()(),u.gb(16777216,null,0,1,null,f)),u.qb(26,16384,null,0,C.k,[u.M,u.J],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var o=n.component;l(n,4,0,\"dark\"),l(n,6,0,\"clear\"),l(n,8,0,\"print\"),l(n,12,0,\"/\"),l(n,13,0,\"/\"),l(n,18,0,\"light\"),l(n,26,0,o.objetos)},null)}function v(l){return u.Lb(0,[(l()(),u.rb(0,0,null,null,1,\"app-relatorio\",[],null,null,null,q,k)),u.qb(1,114688,null,0,s,[e.a,r.a,C.e,a.Lb,a.Gb,a.Pb,c.a,i.a],null,null)],function(l,n){l(n,1,0)},null)}var x=u.nb(\"app-relatorio\",s,v,{objetos:\"objetos\"},{},[]),P=o(\"j1ZV\"),y=o(\"iInd\");o.d(n,\"RelatorioPageModuleNgFactory\",function(){return I});var I=u.ob(d,[],function(l){return u.zb([u.Ab(512,u.j,u.Z,[[8,[h.a,g.a,x]],[3,u.j],u.v]),u.Ab(4608,C.m,C.l,[u.s,[2,C.w]]),u.Ab(4608,p.g,p.g,[]),u.Ab(4608,a.c,a.c,[u.x,u.g]),u.Ab(4608,a.Hb,a.Hb,[a.c,u.j,u.p]),u.Ab(4608,a.Lb,a.Lb,[a.c,u.j,u.p]),u.Ab(1073742336,C.b,C.b,[]),u.Ab(1073742336,p.f,p.f,[]),u.Ab(1073742336,p.a,p.a,[]),u.Ab(1073742336,a.Eb,a.Eb,[]),u.Ab(1073742336,P.a,P.a,[]),u.Ab(1073742336,y.o,y.o,[[2,y.t],[2,y.m]]),u.Ab(1073742336,d,d,[]),u.Ab(1024,y.k,function(){return[[{path:\"\",component:s}]]},[])])})}}]);","extractedComments":[]}