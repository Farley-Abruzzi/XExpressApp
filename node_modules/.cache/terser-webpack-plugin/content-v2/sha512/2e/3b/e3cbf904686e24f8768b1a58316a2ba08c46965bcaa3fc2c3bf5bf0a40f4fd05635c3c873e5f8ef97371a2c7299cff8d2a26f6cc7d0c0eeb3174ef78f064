{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{QIC2:function(l,n,t){\"use strict\";t.r(n);var e=t(\"8Y7J\"),u=t(\"mrSG\"),o=t(\"ZZ/e\"),i=t(\"bRl7\");class r{constructor(l,n,t,e,u){this.navCtrl=l,this.alertCtrl=n,this.loadingController=t,this.bluetoothSerial=e,this.toastCtrl=u,this.listToggle=!1,this.pairedDeviceID=0,this.dataSend=\"\",this.checkBluetoothEnabled()}ngOnInit(){}presentLoading(){return u.b(this,void 0,void 0,function*(){const l=yield this.loadingController.create({cssClass:\"loadingClass\",message:\"Por favor aguarde...\",animated:!0,spinner:\"circles\",translucent:!0});return l.present(),l})}checkBluetoothEnabled(){this.bluetoothSerial.isEnabled().then(l=>{this.listPairedDevices()},l=>{this.showError(\"Habilite o Bluetooth\")})}listPairedDevices(){return u.b(this,void 0,void 0,function*(){let l=yield this.presentLoading();this.bluetoothSerial.list().then(n=>{this.pairedList=n,this.listToggle=!0,l.dismiss()},n=>{this.showError(\"Habilite o Bluetooth\"),this.listToggle=!1,l.dismiss()})})}selectDevice(){let l=this.pairedList[this.pairedDeviceID];if(!l.address)return void this.showError(\"Selecione o dispositivo pareado para conectar\");let n=l.address;console.log(\"Adress: \",n),this.connect(n)}connect(l){return u.b(this,void 0,void 0,function*(){let n=yield this.presentLoading();this.bluetoothSerial.connect(l).subscribe(l=>{this.deviceConnected(),n.dismiss(),this.showToast(\"Dispositivo conectado!\")},l=>{n.dismiss(),this.showError(\"Erro: Conecte o dispositivo\")})})}deviceConnected(){this.bluetoothSerial.subscribe(\"\\n\").subscribe(l=>{this.handleData(l),this.showToast(\"Conex\\xe3o bem sucedida\")},l=>{this.showError(l)})}deviceDisconnected(){this.bluetoothSerial.disconnect(),this.showToast(\"Dispositivo Desconectado\")}handleData(l){this.showToast(l)}sendData(){this.dataSend+=\"\\n\",this.showToast(this.dataSend),this.bluetoothSerial.write(this.dataSend).then(l=>{this.showToast(l)},l=>{this.showError(l)})}showError(l){return u.b(this,void 0,void 0,function*(){(yield this.alertCtrl.create({header:\"Error\",subHeader:l,buttons:[\"Ok\"]})).present()})}showToast(l){return u.b(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:l,duration:2e3})).present()})}}class s{}var a=t(\"pMnS\"),b=t(\"oBZk\"),c=t(\"s7LF\"),d=t(\"SVse\"),h=e.pb({encapsulation:0,styles:[[\"page-bluetooth[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{color:#10dc60;background:rgba(0,0,0,0);border-radius:30px!important;border:1px solid #fff}page-bluetooth[_ngcontent-%COMP%]   .my-custom-class[_ngcontent-%COMP%]{--background:#f4f5f8;--spinner-color:#10dc60;color:#fff}\"]],data:{}});function g(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,8,\"ion-item\",[],null,null,null,b.cb,b.r)),e.qb(1,49152,null,0,o.I,[e.h,e.k,e.x],null,null),(l()(),e.rb(2,0,null,0,2,\"ion-label\",[],null,null,null,b.db,b.s)),e.qb(3,49152,null,0,o.O,[e.h,e.k,e.x],null,null),(l()(),e.Kb(4,0,[\"\",\"\"])),(l()(),e.rb(5,0,null,0,3,\"ion-radio\",[],null,[[null,\"ionBlur\"],[null,\"ionSelect\"]],function(l,n,t){var u=!0;return\"ionBlur\"===n&&(u=!1!==e.Db(l,8)._handleBlurEvent(t.target)&&u),\"ionSelect\"===n&&(u=!1!==e.Db(l,8)._handleIonSelect(t.target)&&u),u},b.gb,b.v)),e.Hb(5120,null,c.d,function(l){return[l]},[o.Mb]),e.qb(7,49152,null,0,o.ab,[e.h,e.k,e.x],{value:[0,\"value\"]},null),e.qb(8,16384,null,0,o.Mb,[e.k],null,null)],function(l,n){l(n,7,0,e.vb(1,\"\",n.context.index,\"\"))},function(l,n){l(n,4,0,n.context.$implicit.name)})}function p(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,8,\"ion-list\",[[\"ngDefaultControl\",\"\"],[\"radio-group\",\"\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"input\"],[null,\"blur\"],[null,\"compositionstart\"],[null,\"compositionend\"]],function(l,n,t){var u=!0,o=l.component;return\"input\"===n&&(u=!1!==e.Db(l,1)._handleInput(t.target.value)&&u),\"blur\"===n&&(u=!1!==e.Db(l,1).onTouched()&&u),\"compositionstart\"===n&&(u=!1!==e.Db(l,1)._compositionStart()&&u),\"compositionend\"===n&&(u=!1!==e.Db(l,1)._compositionEnd(t.target.value)&&u),\"ngModelChange\"===n&&(u=!1!==(o.pairedDeviceID=t)&&u),u},b.eb,b.t)),e.qb(1,16384,null,0,c.b,[e.B,e.k,[2,c.a]],null,null),e.Hb(1024,null,c.d,function(l){return[l]},[c.b]),e.qb(3,671744,null,0,c.g,[[8,null],[8,null],[8,null],[6,c.d]],{model:[0,\"model\"]},{update:\"ngModelChange\"}),e.Hb(2048,null,c.e,null,[c.g]),e.qb(5,16384,null,0,c.f,[[4,c.e]],null,null),e.qb(6,49152,null,0,o.P,[e.h,e.k,e.x],null,null),(l()(),e.gb(16777216,null,0,1,null,g)),e.qb(8,278528,null,0,d.j,[e.M,e.J,e.q],{ngForOf:[0,\"ngForOf\"]},null)],function(l,n){var t=n.component;l(n,3,0,t.pairedDeviceID),l(n,8,0,t.pairedList)},function(l,n){l(n,0,0,e.Db(n,5).ngClassUntouched,e.Db(n,5).ngClassTouched,e.Db(n,5).ngClassPristine,e.Db(n,5).ngClassDirty,e.Db(n,5).ngClassValid,e.Db(n,5).ngClassInvalid,e.Db(n,5).ngClassPending)})}function f(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,4,\"ion-button\",[[\"color\",\"success\"],[\"full\",\"\"]],null,[[null,\"click\"]],function(l,n,t){var e=!0;return\"click\"===n&&(e=!1!==l.component.selectDevice()&&e),e},b.O,b.d)),e.qb(1,49152,null,0,o.l,[e.h,e.k,e.x],{color:[0,\"color\"]},null),(l()(),e.rb(2,0,null,0,1,\"ion-icon\",[[\"name\",\"bluetooth\"]],null,null,null,b.Z,b.o)),e.qb(3,49152,null,0,o.D,[e.h,e.k,e.x],{name:[0,\"name\"]},null),(l()(),e.Kb(-1,0,[\"\\xa0Conectar dispositivo Bluetooth\"]))],function(l,n){l(n,1,0,\"success\"),l(n,3,0,\"bluetooth\")},null)}function v(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,11,\"ion-header\",[],null,null,null,b.Y,b.n)),e.qb(1,49152,null,0,o.C,[e.h,e.k,e.x],null,null),(l()(),e.rb(2,0,null,0,9,\"ion-toolbar\",[[\"color\",\"dark\"]],null,null,null,b.vb,b.K)),e.qb(3,49152,null,0,o.Cb,[e.h,e.k,e.x],{color:[0,\"color\"]},null),(l()(),e.rb(4,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,b.P,b.e)),e.qb(5,49152,null,0,o.m,[e.h,e.k,e.x],null,null),(l()(),e.rb(6,0,null,0,2,\"ion-back-button\",[[\"defaultHref\",\"/\"]],null,[[null,\"click\"]],function(l,n,t){var u=!0;return\"click\"===n&&(u=!1!==e.Db(l,8).onClick(t)&&u),u},b.N,b.c)),e.qb(7,49152,null,0,o.h,[e.h,e.k,e.x],{defaultHref:[0,\"defaultHref\"]},null),e.qb(8,16384,null,0,o.i,[[2,o.ib],o.Ib],{defaultHref:[0,\"defaultHref\"]},null),(l()(),e.rb(9,0,null,0,2,\"ion-title\",[],null,null,null,b.tb,b.I)),e.qb(10,49152,null,0,o.Ab,[e.h,e.k,e.x],null,null),(l()(),e.Kb(-1,0,[\"Bluetooth\"])),(l()(),e.rb(12,0,null,null,34,\"ion-content\",[[\"padding\",\"\"]],null,null,null,b.V,b.k)),e.qb(13,49152,null,0,o.v,[e.h,e.k,e.x],null,null),(l()(),e.rb(14,0,null,0,4,\"ion-button\",[[\"color\",\"success\"],[\"full\",\"\"]],null,[[null,\"click\"]],function(l,n,t){var e=!0;return\"click\"===n&&(e=!1!==l.component.listPairedDevices()&&e),e},b.O,b.d)),e.qb(15,49152,null,0,o.l,[e.h,e.k,e.x],{color:[0,\"color\"]},null),(l()(),e.rb(16,0,null,0,1,\"ion-icon\",[[\"name\",\"refresh\"]],null,null,null,b.Z,b.o)),e.qb(17,49152,null,0,o.D,[e.h,e.k,e.x],{name:[0,\"name\"]},null),(l()(),e.Kb(-1,0,[\"\\xa0Atualizar Dispositivos Bluetooth\"])),(l()(),e.rb(19,0,null,0,5,\"ion-row\",[],null,null,null,b.jb,b.y)),e.qb(20,49152,null,0,o.jb,[e.h,e.k,e.x],null,null),(l()(),e.rb(21,0,null,0,3,\"ion-col\",[],null,null,null,b.U,b.j)),e.qb(22,49152,null,0,o.u,[e.h,e.k,e.x],null,null),(l()(),e.gb(16777216,null,0,1,null,p)),e.qb(24,16384,null,0,d.k,[e.M,e.J],{ngIf:[0,\"ngIf\"]},null),(l()(),e.gb(16777216,null,0,1,null,f)),e.qb(26,16384,null,0,d.k,[e.M,e.J],{ngIf:[0,\"ngIf\"]},null),(l()(),e.rb(27,0,null,0,14,\"ion-list\",[],null,null,null,b.eb,b.t)),e.qb(28,49152,null,0,o.P,[e.h,e.k,e.x],null,null),(l()(),e.rb(29,0,null,0,12,\"ion-item\",[[\"placeholder\",\"Digite os dados que deseja enviar\"]],null,null,null,b.cb,b.r)),e.qb(30,49152,null,0,o.I,[e.h,e.k,e.x],null,null),(l()(),e.rb(31,0,null,0,3,\"ion-textarea\",[[\"placeholder\",\"Digite os dados que deseja enviar\"]],null,[[null,\"ionBlur\"],[null,\"ionChange\"]],function(l,n,t){var u=!0;return\"ionBlur\"===n&&(u=!1!==e.Db(l,34)._handleBlurEvent(t.target)&&u),\"ionChange\"===n&&(u=!1!==e.Db(l,34)._handleInputEvent(t.target)&&u),u},b.sb,b.H)),e.Hb(5120,null,c.d,function(l){return[l]},[o.Pb]),e.qb(33,49152,null,0,o.yb,[e.h,e.k,e.x],{placeholder:[0,\"placeholder\"]},null),e.qb(34,16384,null,0,o.Pb,[e.k],null,null),(l()(),e.rb(35,0,null,0,6,\"ion-input\",[[\"name\",\"datasend\"],[\"type\",\"text\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ngModelChange\"],[null,\"ionBlur\"],[null,\"ionChange\"]],function(l,n,t){var u=!0,o=l.component;return\"ionBlur\"===n&&(u=!1!==e.Db(l,36)._handleBlurEvent(t.target)&&u),\"ionChange\"===n&&(u=!1!==e.Db(l,36)._handleInputEvent(t.target)&&u),\"ngModelChange\"===n&&(u=!1!==(o.dataSend=t)&&u),u},b.bb,b.q)),e.qb(36,16384,null,0,o.Pb,[e.k],null,null),e.Hb(1024,null,c.d,function(l){return[l]},[o.Pb]),e.qb(38,671744,null,0,c.g,[[8,null],[8,null],[8,null],[6,c.d]],{name:[0,\"name\"],model:[1,\"model\"]},{update:\"ngModelChange\"}),e.Hb(2048,null,c.e,null,[c.g]),e.qb(40,16384,null,0,c.f,[[4,c.e]],null,null),e.qb(41,49152,null,0,o.H,[e.h,e.k,e.x],{name:[0,\"name\"],type:[1,\"type\"]},null),(l()(),e.rb(42,0,null,0,4,\"ion-button\",[[\"color\",\"success\"],[\"fill\",\"outline\"]],null,[[null,\"click\"]],function(l,n,t){var e=!0;return\"click\"===n&&(e=!1!==l.component.sendData()&&e),e},b.O,b.d)),e.qb(43,49152,null,0,o.l,[e.h,e.k,e.x],{color:[0,\"color\"],fill:[1,\"fill\"]},null),(l()(),e.rb(44,0,null,0,1,\"ion-icon\",[[\"name\",\"send\"]],null,null,null,b.Z,b.o)),e.qb(45,49152,null,0,o.D,[e.h,e.k,e.x],{name:[0,\"name\"]},null),(l()(),e.Kb(-1,0,[\"\\xa0Enviar dados via Bluetooth \"]))],function(l,n){var t=n.component;l(n,3,0,\"dark\"),l(n,7,0,\"/\"),l(n,8,0,\"/\"),l(n,15,0,\"success\"),l(n,17,0,\"refresh\"),l(n,24,0,t.listToggle),l(n,26,0,t.listToggle),l(n,33,0,\"Digite os dados que deseja enviar\"),l(n,38,0,\"datasend\",t.dataSend),l(n,41,0,\"datasend\",\"text\"),l(n,43,0,\"success\",\"outline\"),l(n,45,0,\"send\")},function(l,n){l(n,35,0,e.Db(n,40).ngClassUntouched,e.Db(n,40).ngClassTouched,e.Db(n,40).ngClassPristine,e.Db(n,40).ngClassDirty,e.Db(n,40).ngClassValid,e.Db(n,40).ngClassInvalid,e.Db(n,40).ngClassPending)})}function D(l){return e.Mb(0,[(l()(),e.rb(0,0,null,null,1,\"app-bluetooth\",[],null,null,null,v,h)),e.qb(1,114688,null,0,r,[o.Ib,o.b,o.Gb,i.a,o.Qb],null,null)],function(l,n){l(n,1,0)},null)}var m=e.nb(\"app-bluetooth\",r,D,{},{},[]),k=t(\"iInd\");t.d(n,\"BluetoothPageModuleNgFactory\",function(){return C});var C=e.ob(s,[],function(l){return e.Ab([e.Bb(512,e.j,e.Z,[[8,[a.a,m]],[3,e.j],e.v]),e.Bb(4608,d.m,d.l,[e.s,[2,d.w]]),e.Bb(4608,c.i,c.i,[]),e.Bb(4608,o.c,o.c,[e.x,e.g]),e.Bb(4608,o.Hb,o.Hb,[o.c,e.j,e.p]),e.Bb(4608,o.Lb,o.Lb,[o.c,e.j,e.p]),e.Bb(1073742336,d.b,d.b,[]),e.Bb(1073742336,c.h,c.h,[]),e.Bb(1073742336,c.c,c.c,[]),e.Bb(1073742336,o.Eb,o.Eb,[]),e.Bb(1073742336,k.o,k.o,[[2,k.t],[2,k.m]]),e.Bb(1073742336,s,s,[]),e.Bb(1024,k.k,function(){return[[{path:\"\",component:r}]]},[])])})}}]);","extractedComments":[]}