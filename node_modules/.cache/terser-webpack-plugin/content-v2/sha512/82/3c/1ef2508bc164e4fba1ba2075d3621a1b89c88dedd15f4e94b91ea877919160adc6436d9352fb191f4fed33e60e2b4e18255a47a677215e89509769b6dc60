{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{o0Qb:function(l,n,t){\"use strict\";t.r(n);var o=t(\"CcnG\"),u=t(\"mrSG\"),e=t(\"bRl7\"),i=t(\"wh8y\"),r=t(\"n90K\"),a=t(\"ZZ/e\"),c=t(\"x4fO\"),s=t(\"on2l\"),b=function(){function l(l,n,t,o,u,e,i,r){this.bluetoothSerial=l,this.contribService=n,this.datePipe=t,this.popoverCtrl=o,this.loadingController=u,this.toastCtrl=e,this.usuarioService=i,this.storage=r,this.dtStart=new Date,this.dtEnd=new Date(this.dtStart.getFullYear(),this.dtStart.getMonth()+1,0),this.dtInicio=\" \",this.dtFim=\" \"}return l.prototype.ngOnInit=function(){this.carregarPeriodo(),this.connect()},l.prototype.carregarPeriodo=function(){this.carregarResumo()},l.prototype.carregarResumo=function(){return u.b(this,void 0,void 0,function(){var l,n,t=this;return u.e(this,function(o){switch(o.label){case 0:return[4,this.presentLoading()];case 1:return l=o.sent(),(n=this.storage.getLocalUser())&&n.email&&this.usuarioService.findByEmail(n.email).subscribe(function(n){t.usuario=n,t.codMens=t.usuario.codmensageiro,t.contribService.getResumo(t.codMens,t.dtInicio,t.dtFim).subscribe(function(n){t.objetos=n,l.dismiss()},function(l){console.log(l)})},function(l){403==l.status&&console.log(l.status)}),[2]}})})},l.prototype.presentToast=function(l){return u.b(this,void 0,void 0,function(){return u.e(this,function(n){switch(n.label){case 0:return[4,this.toastCtrl.create({message:l,duration:2e3,mode:\"ios\",color:\"dark\"})];case 1:return n.sent().present(),[2]}})})},l.prototype.Imprimir=function(){this.conversorDate(),this.bluetoothSerial.write(\"\\n\\n\\n  *** RELATORIO ***\\n\\nContabilizando o Periodo:\\nDE \"+this.dtInicio+\" A \"+this.dtFim+\"\\n\\nTotal de contribuicoes: R$\"+this.objetos.totalQtd+\"\\n\\nA Receber: R$\"+this.objetos.valorEmAberto.toFixed(2)+\"\\n\\nRecebidas: \"+this.objetos.qtdRecebido+\"\\n\\nDevolvidas: \"+this.objetos.qtdDevolvido+\"\\n\\nCanceladas: \"+this.objetos.qtdCancelado+\"\\n\\n\\n\\n\"),console.log(\"Imprimindo\")},l.prototype.conversorDate=function(){this.dtInicio=this.datePipe.transform(this.dtStart,\"dd/MM/yyyy\"),this.dtFim=this.datePipe.transform(this.dtEnd,\"dd/MM/yyyy\")},l.prototype.carregarDtInicio=function(l){this.dtInicio=this.datePipe.transform(new Date(l.detail.value),\"yyyy-MM-dd\"),console.log(\"Data Inicio \"+this.dtInicio)},l.prototype.carregarDtFim=function(l){this.dtFim=this.datePipe.transform(new Date(l.detail.value),\"yyyy-MM-dd\"),console.log(\"Data Fim \"+this.dtFim),this.carregarPeriodo()},l.prototype.presentLoading=function(){return u.b(this,void 0,void 0,function(){var l;return u.e(this,function(n){switch(n.label){case 0:return[4,this.loadingController.create({cssClass:\"loadingClass\",message:\"Carregando...\",animated:!0,spinner:\"circles\",translucent:!0})];case 1:return(l=n.sent()).present(),[2,l]}})})},l.prototype.connect=function(){this.bluetoothSerial.connectInsecure(\"00:02:5B:B4:13:87\").subscribe(function(l){console.log(\"Conectado\",l)})},l.prototype.mostrarPop=function(l){return u.b(this,void 0,void 0,function(){return u.e(this,function(n){switch(n.label){case 0:return[4,this.popoverCtrl.create({component:c.a,event:l,mode:\"ios\",translucent:!0,animated:!0})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}})})},l}(),d=function(){return function(){}}(),h=t(\"qD9K\"),g=t(\"pMnS\"),p=t(\"oBZk\"),m=t(\"gIcY\"),f=t(\"Ip0R\"),C=o.rb({encapsulation:0,styles:[[\".buttonPrint[_ngcontent-%COMP%]{--color-activated:#3880ff!important;color:#10dc60}.calendarStart[_ngcontent-%COMP%]{position:fixed;top:25px;right:50%;--ripple-color:#192035!important}.calendarEnd[_ngcontent-%COMP%]{position:fixed;top:25px;left:50%;--ripple-color:#192035!important}.itemCalendar[_ngcontent-%COMP%]{--inner-padding-bottom:5%!important}.sizeLabel[_ngcontent-%COMP%]{font-size:20px}.ListPorCidade[_ngcontent-%COMP%]{--background:none;background-color:#d7d8da!important}.LabelPeriodo[_ngcontent-%COMP%]{margin-bottom:15%!important}.SizeToolbar[_ngcontent-%COMP%]{height:70px}.ButtonPorCidade[_ngcontent-%COMP%]{--border-radius:10px!important}.loadingClass[_ngcontent-%COMP%]{--background:none;--background-color:#192035!important;--spinner-color:#0ef366!important}\"]],data:{}});function k(l){return o.Nb(0,[(l()(),o.tb(0,0,null,null,89,\"ion-list\",[],null,null,null,p.ab,p.s)),o.sb(1,49152,null,0,a.P,[o.h,o.k,o.z],null,null),(l()(),o.tb(2,0,null,0,28,\"ion-toolbar\",[[\"class\",\"SizeToolbar\"],[\"color\",\"success\"],[\"text-center\",\"\"]],null,null,null,p.pb,p.H)),o.sb(3,49152,null,0,a.Cb,[o.h,o.k,o.z],{color:[0,\"color\"]},null),(l()(),o.tb(4,0,null,0,2,\"ion-label\",[[\"class\",\"LabelPeriodo\"]],null,null,null,p.Z,p.r)),o.sb(5,49152,null,0,a.O,[o.h,o.k,o.z],null,null),(l()(),o.Lb(-1,0,[\"Per\\xedodo\"])),(l()(),o.tb(7,0,null,0,11,\"ion-button\",[[\"class\",\"calendarStart\"],[\"color\",\"dark\"],[\"fill\",\"clear\"],[\"slot\",\"start\"]],null,null,null,p.L,p.d)),o.sb(8,49152,null,0,a.l,[o.h,o.k,o.z],{color:[0,\"color\"],fill:[1,\"fill\"]},null),(l()(),o.Lb(-1,0,[\"De \"])),(l()(),o.tb(10,0,null,0,1,\"ion-icon\",[[\"name\",\"calendar\"]],null,null,null,p.W,p.o)),o.sb(11,49152,null,0,a.D,[o.h,o.k,o.z],{name:[0,\"name\"]},null),(l()(),o.tb(12,0,null,0,6,\"ion-datetime\",[[\"cancelText\",\"Cancelar\"],[\"class\",\"dateTime-1\"],[\"display-format\",\"DD/MM/YYYY\"],[\"done-text\",\"Ok\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ionChange\"],[null,\"ionBlur\"]],function(l,n,t){var u=!0,e=l.component;return\"ionBlur\"===n&&(u=!1!==o.Eb(l,13)._handleBlurEvent(t.target)&&u),\"ionChange\"===n&&(u=!1!==o.Eb(l,13)._handleChangeEvent(t.target)&&u),\"ionChange\"===n&&(u=!1!==e.carregarDtInicio(t)&&u),u},p.T,p.l)),o.sb(13,16384,null,0,a.Nb,[o.k],null,null),o.Ib(1024,null,m.b,function(l){return[l]},[a.Nb]),o.sb(15,671744,null,0,m.e,[[8,null],[8,null],[8,null],[6,m.b]],{model:[0,\"model\"]},null),o.Ib(2048,null,m.c,null,[m.e]),o.sb(17,16384,null,0,m.d,[[4,m.c]],null,null),o.sb(18,49152,null,0,a.w,[o.h,o.k,o.z],{cancelText:[0,\"cancelText\"]},null),(l()(),o.tb(19,0,null,0,11,\"ion-button\",[[\"class\",\"calendarEnd\"],[\"color\",\"dark\"],[\"fill\",\"clear\"],[\"slot\",\"start\"]],null,null,null,p.L,p.d)),o.sb(20,49152,null,0,a.l,[o.h,o.k,o.z],{color:[0,\"color\"],fill:[1,\"fill\"]},null),(l()(),o.Lb(-1,0,[\"At\\xe9 \"])),(l()(),o.tb(22,0,null,0,1,\"ion-icon\",[[\"name\",\"calendar\"]],null,null,null,p.W,p.o)),o.sb(23,49152,null,0,a.D,[o.h,o.k,o.z],{name:[0,\"name\"]},null),(l()(),o.tb(24,0,null,0,6,\"ion-datetime\",[[\"cancelText\",\"Cancelar\"],[\"class\",\"dateTime-2\"],[\"display-format\",\"DD/MM/YYYY\"],[\"done-text\",\"Ok\"]],[[2,\"ng-untouched\",null],[2,\"ng-touched\",null],[2,\"ng-pristine\",null],[2,\"ng-dirty\",null],[2,\"ng-valid\",null],[2,\"ng-invalid\",null],[2,\"ng-pending\",null]],[[null,\"ionChange\"],[null,\"ionBlur\"]],function(l,n,t){var u=!0,e=l.component;return\"ionBlur\"===n&&(u=!1!==o.Eb(l,25)._handleBlurEvent(t.target)&&u),\"ionChange\"===n&&(u=!1!==o.Eb(l,25)._handleChangeEvent(t.target)&&u),\"ionChange\"===n&&(u=!1!==e.carregarDtFim(t)&&u),u},p.T,p.l)),o.sb(25,16384,null,0,a.Nb,[o.k],null,null),o.Ib(1024,null,m.b,function(l){return[l]},[a.Nb]),o.sb(27,671744,null,0,m.e,[[8,null],[8,null],[8,null],[6,m.b]],{model:[0,\"model\"]},null),o.Ib(2048,null,m.c,null,[m.e]),o.sb(29,16384,null,0,m.d,[[4,m.c]],null,null),o.sb(30,49152,null,0,a.w,[o.h,o.k,o.z],{cancelText:[0,\"cancelText\"]},null),(l()(),o.tb(31,0,null,0,3,\"ion-button\",[[\"class\",\"ButtonPorCidade\"],[\"color\",\"success\"],[\"expand\",\"block\"],[\"fill\",\"outline\"]],null,[[null,\"click\"]],function(l,n,t){var o=!0;return\"click\"===n&&(o=!1!==l.component.mostrarPop(t)&&o),o},p.L,p.d)),o.sb(32,49152,null,0,a.l,[o.h,o.k,o.z],{color:[0,\"color\"],expand:[1,\"expand\"],fill:[2,\"fill\"]},null),(l()(),o.tb(33,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),o.Lb(-1,null,[\"Ver Por Cidade\"])),(l()(),o.tb(35,0,null,0,54,\"ion-card\",[[\"color\",\"light\"]],null,null,null,p.Q,p.f)),o.sb(36,49152,null,0,a.n,[o.h,o.k,o.z],{color:[0,\"color\"]},null),(l()(),o.tb(37,0,null,0,7,\"ion-item\",[[\"color\",\"medium\"]],null,null,null,p.Y,p.q)),o.sb(38,49152,null,0,a.I,[o.h,o.k,o.z],{color:[0,\"color\"]},null),(l()(),o.tb(39,0,null,0,5,\"ion-label\",[],null,null,null,p.Z,p.r)),o.sb(40,49152,null,0,a.O,[o.h,o.k,o.z],null,null),(l()(),o.tb(41,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),o.Lb(-1,null,[\"Recebidos (Hoje):\"])),(l()(),o.Lb(43,0,[\" \",\"\"])),o.Hb(44,3),(l()(),o.tb(45,0,null,0,7,\"ion-item\",[[\"color\",\"light\"]],null,null,null,p.Y,p.q)),o.sb(46,49152,null,0,a.I,[o.h,o.k,o.z],{color:[0,\"color\"]},null),(l()(),o.tb(47,0,null,0,5,\"ion-label\",[],null,null,null,p.Z,p.r)),o.sb(48,49152,null,0,a.O,[o.h,o.k,o.z],null,null),(l()(),o.tb(49,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),o.Lb(-1,null,[\"Total de contribui\\xe7\\xf5es:\"])),(l()(),o.Lb(51,0,[\" \",\"\"])),o.Hb(52,3),(l()(),o.tb(53,0,null,0,7,\"ion-item\",[[\"color\",\"light\"]],null,null,null,p.Y,p.q)),o.sb(54,49152,null,0,a.I,[o.h,o.k,o.z],{color:[0,\"color\"]},null),(l()(),o.tb(55,0,null,0,5,\"ion-label\",[],null,null,null,p.Z,p.r)),o.sb(56,49152,null,0,a.O,[o.h,o.k,o.z],null,null),(l()(),o.tb(57,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),o.Lb(-1,null,[\"A Receber:\"])),(l()(),o.Lb(59,0,[\" \",\"\"])),o.Hb(60,3),(l()(),o.tb(61,0,null,0,6,\"ion-item\",[[\"color\",\"light\"]],null,null,null,p.Y,p.q)),o.sb(62,49152,null,0,a.I,[o.h,o.k,o.z],{color:[0,\"color\"]},null),(l()(),o.tb(63,0,null,0,4,\"ion-label\",[[\"color\",\"medium\"]],null,null,null,p.Z,p.r)),o.sb(64,49152,null,0,a.O,[o.h,o.k,o.z],{color:[0,\"color\"]},null),(l()(),o.tb(65,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),o.Lb(-1,null,[\"Em Aberto:\"])),(l()(),o.Lb(67,0,[\" \",\"\"])),(l()(),o.tb(68,0,null,0,6,\"ion-item\",[[\"color\",\"light\"]],null,null,null,p.Y,p.q)),o.sb(69,49152,null,0,a.I,[o.h,o.k,o.z],{color:[0,\"color\"]},null),(l()(),o.tb(70,0,null,0,4,\"ion-label\",[[\"color\",\"success\"]],null,null,null,p.Z,p.r)),o.sb(71,49152,null,0,a.O,[o.h,o.k,o.z],{color:[0,\"color\"]},null),(l()(),o.tb(72,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),o.Lb(-1,null,[\"Recebidas:\"])),(l()(),o.Lb(74,0,[\" \",\"\"])),(l()(),o.tb(75,0,null,0,6,\"ion-item\",[[\"color\",\"light\"]],null,null,null,p.Y,p.q)),o.sb(76,49152,null,0,a.I,[o.h,o.k,o.z],{color:[0,\"color\"]},null),(l()(),o.tb(77,0,null,0,4,\"ion-label\",[[\"color\",\"danger\"]],null,null,null,p.Z,p.r)),o.sb(78,49152,null,0,a.O,[o.h,o.k,o.z],{color:[0,\"color\"]},null),(l()(),o.tb(79,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),o.Lb(-1,null,[\"Devolvidas:\"])),(l()(),o.Lb(81,0,[\" \",\"\"])),(l()(),o.tb(82,0,null,0,6,\"ion-item\",[[\"color\",\"light\"]],null,null,null,p.Y,p.q)),o.sb(83,49152,null,0,a.I,[o.h,o.k,o.z],{color:[0,\"color\"]},null),(l()(),o.tb(84,0,null,0,4,\"ion-label\",[[\"color\",\"danger\"]],null,null,null,p.Z,p.r)),o.sb(85,49152,null,0,a.O,[o.h,o.k,o.z],{color:[0,\"color\"]},null),(l()(),o.tb(86,0,null,0,1,\"b\",[],null,null,null,null,null)),(l()(),o.Lb(-1,null,[\"Canceladas:\"])),(l()(),o.Lb(88,0,[\" \",\"\"])),(l()(),o.tb(89,0,null,0,0,\"br\",[],null,null,null,null,null))],function(l,n){var t=n.component;l(n,3,0,\"success\"),l(n,8,0,\"dark\",\"clear\"),l(n,11,0,\"calendar\"),l(n,15,0,t.dtStart.toISOString()),l(n,18,0,\"Cancelar\"),l(n,20,0,\"dark\",\"clear\"),l(n,23,0,\"calendar\"),l(n,27,0,t.dtEnd.toISOString()),l(n,30,0,\"Cancelar\"),l(n,32,0,\"success\",\"block\",\"outline\"),l(n,36,0,\"light\"),l(n,38,0,\"medium\"),l(n,46,0,\"light\"),l(n,54,0,\"light\"),l(n,62,0,\"light\"),l(n,64,0,\"medium\"),l(n,69,0,\"light\"),l(n,71,0,\"success\"),l(n,76,0,\"light\"),l(n,78,0,\"danger\"),l(n,83,0,\"light\"),l(n,85,0,\"danger\")},function(l,n){var t=n.component;l(n,12,0,o.Eb(n,17).ngClassUntouched,o.Eb(n,17).ngClassTouched,o.Eb(n,17).ngClassPristine,o.Eb(n,17).ngClassDirty,o.Eb(n,17).ngClassValid,o.Eb(n,17).ngClassInvalid,o.Eb(n,17).ngClassPending),l(n,24,0,o.Eb(n,29).ngClassUntouched,o.Eb(n,29).ngClassTouched,o.Eb(n,29).ngClassPristine,o.Eb(n,29).ngClassDirty,o.Eb(n,29).ngClassValid,o.Eb(n,29).ngClassInvalid,o.Eb(n,29).ngClassPending);var u=o.Mb(n,43,0,l(n,44,0,o.Eb(n.parent,0),t.objetos.qtdRecebido,\"BRL\",!0));l(n,43,0,u);var e=o.Mb(n,51,0,l(n,52,0,o.Eb(n.parent,0),t.objetos.totalQtd,\"BRL\",!0));l(n,51,0,e);var i=o.Mb(n,59,0,l(n,60,0,o.Eb(n.parent,0),t.objetos.valorEmAberto,\"BRL\",!0));l(n,59,0,i),l(n,67,0,t.objetos.qtdEmAberto),l(n,74,0,t.objetos.qtdRecebido),l(n,81,0,t.objetos.qtdDevolvido),l(n,88,0,t.objetos.qtdCancelado)})}function v(l){return o.Nb(0,[o.Gb(0,f.c,[o.u]),(l()(),o.tb(1,0,null,null,15,\"ion-header\",[],null,null,null,p.V,p.n)),o.sb(2,49152,null,0,a.C,[o.h,o.k,o.z],null,null),(l()(),o.tb(3,0,null,0,13,\"ion-toolbar\",[[\"color\",\"dark\"]],null,null,null,p.pb,p.H)),o.sb(4,49152,null,0,a.Cb,[o.h,o.k,o.z],{color:[0,\"color\"]},null),(l()(),o.tb(5,0,null,0,3,\"ion-button\",[[\"class\",\"buttonPrint\"],[\"fill\",\"clear\"],[\"slot\",\"end\"]],null,[[null,\"click\"]],function(l,n,t){var o=!0;return\"click\"===n&&(o=!1!==l.component.Imprimir()&&o),o},p.L,p.d)),o.sb(6,49152,null,0,a.l,[o.h,o.k,o.z],{fill:[0,\"fill\"]},null),(l()(),o.tb(7,0,null,0,1,\"ion-icon\",[[\"name\",\"print\"]],null,null,null,p.W,p.o)),o.sb(8,49152,null,0,a.D,[o.h,o.k,o.z],{name:[0,\"name\"]},null),(l()(),o.tb(9,0,null,0,4,\"ion-buttons\",[[\"slot\",\"start\"]],null,null,null,p.M,p.e)),o.sb(10,49152,null,0,a.m,[o.h,o.k,o.z],null,null),(l()(),o.tb(11,0,null,0,2,\"ion-back-button\",[[\"defaultHref\",\"/\"]],null,[[null,\"click\"]],function(l,n,t){var u=!0;return\"click\"===n&&(u=!1!==o.Eb(l,13).onClick(t)&&u),u},p.K,p.c)),o.sb(12,49152,null,0,a.h,[o.h,o.k,o.z],{defaultHref:[0,\"defaultHref\"]},null),o.sb(13,16384,null,0,a.i,[[2,a.ib],a.Ib],{defaultHref:[0,\"defaultHref\"]},null),(l()(),o.tb(14,0,null,0,2,\"ion-title\",[],null,null,null,p.nb,p.F)),o.sb(15,49152,null,0,a.Ab,[o.h,o.k,o.z],null,null),(l()(),o.Lb(-1,0,[\"Relat\\xf3rios\"])),(l()(),o.tb(17,0,null,null,9,\"ion-content\",[[\"color\",\"light\"]],null,null,null,p.S,p.k)),o.sb(18,49152,null,0,a.v,[o.h,o.k,o.z],{color:[0,\"color\"]},null),(l()(),o.tb(19,0,null,0,7,\"ion-grid\",[],null,null,null,p.U,p.m)),o.sb(20,49152,null,0,a.B,[o.h,o.k,o.z],null,null),(l()(),o.tb(21,0,null,0,5,\"ion-row\",[],null,null,null,p.db,p.v)),o.sb(22,49152,null,0,a.jb,[o.h,o.k,o.z],null,null),(l()(),o.tb(23,0,null,0,3,\"ion-col\",[],null,null,null,p.R,p.j)),o.sb(24,49152,null,0,a.u,[o.h,o.k,o.z],null,null),(l()(),o.ib(16777216,null,0,1,null,k)),o.sb(26,16384,null,0,f.k,[o.O,o.L],{ngIf:[0,\"ngIf\"]},null)],function(l,n){var t=n.component;l(n,4,0,\"dark\"),l(n,6,0,\"clear\"),l(n,8,0,\"print\"),l(n,12,0,\"/\"),l(n,13,0,\"/\"),l(n,18,0,\"light\"),l(n,26,0,t.objetos)},null)}function z(l){return o.Nb(0,[(l()(),o.tb(0,0,null,null,1,\"app-relatorio\",[],null,null,null,v,C)),o.sb(1,114688,null,0,b,[e.a,i.a,f.e,a.Lb,a.Gb,a.Pb,s.a,r.a],null,null)],function(l,n){l(n,1,0)},null)}var E=o.pb(\"app-relatorio\",b,z,{objetos:\"objetos\"},{},[]),L=t(\"j1ZV\"),y=t(\"ZYCi\");t.d(n,\"RelatorioPageModuleNgFactory\",function(){return P});var P=o.qb(d,[],function(l){return o.Bb([o.Cb(512,o.j,o.bb,[[8,[h.a,g.a,E]],[3,o.j],o.x]),o.Cb(4608,f.m,f.l,[o.u,[2,f.w]]),o.Cb(4608,m.g,m.g,[]),o.Cb(4608,a.c,a.c,[o.z,o.g]),o.Cb(4608,a.Hb,a.Hb,[a.c,o.j,o.q]),o.Cb(4608,a.Lb,a.Lb,[a.c,o.j,o.q]),o.Cb(1073742336,f.b,f.b,[]),o.Cb(1073742336,m.f,m.f,[]),o.Cb(1073742336,m.a,m.a,[]),o.Cb(1073742336,a.Eb,a.Eb,[]),o.Cb(1073742336,L.a,L.a,[]),o.Cb(1073742336,y.o,y.o,[[2,y.t],[2,y.m]]),o.Cb(1073742336,d,d,[]),o.Cb(1024,y.k,function(){return[[{path:\"\",component:b}]]},[])])})}}]);","extractedComments":[]}