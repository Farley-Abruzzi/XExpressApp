{"version":3,"sources":["./src/app/pages/login/login.page.html","./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.scss","./src/app/pages/login/login.page.ts","./src/app/services/contribuintes.service.ts"],"names":[],"mappings":"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","file":"pages-login-login-module-es2015.js","sourcesContent":["module.exports = \"<ion-content text-center color=\\\"dark\\\">\\r\\n\\r\\n    <!-- <form (ngSubmit)=\\\"login( fLogin )\\\" #fLogin=\\\"ngForm\\\"></form> -->\\r\\n    <ion-grid class=\\\"gridPosition\\\">\\r\\n\\r\\n        <ion-row text-center>\\r\\n            <ion-col>\\r\\n                <img src=\\\"/assets/avatars/av-6.png\\\">\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row>\\r\\n            <ion-col>\\r\\n\\r\\n                <ion-item>\\r\\n                    <ion-label>Email</ion-label>\\r\\n                    <ion-input name=\\\"email\\\" type=\\\"text\\\" [(ngModel)]=\\\"creds.email\\\"></ion-input>\\r\\n                </ion-item>\\r\\n                <br>\\r\\n                <ion-item>\\r\\n                    <ion-label>Senha</ion-label>\\r\\n                    <ion-input name=\\\"password\\\" type=\\\"password\\\" [(ngModel)]=\\\"creds.password\\\"></ion-input>\\r\\n                </ion-item>\\r\\n\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n        <ion-row text-center>\\r\\n            <ion-col>\\r\\n                <ion-button type=\\\"submit\\\" color=\\\"success\\\" shape=\\\"round\\\" (click)=\\\"logar()\\\">\\r\\n                    Entrar\\r\\n                </ion-button>\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n\\r\\n    </ion-grid>\\r\\n    <ion-textarea class=\\\"Developer\\\" disabled=\\\"true\\\" placeholder=\\\"@GLPV - Developed by Farley De Souza.\\\"></ion-textarea>\\r\\n\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPage } from './login.page';\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ComponentsModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","module.exports = \".mainSlide,\\n.mainSlide ion-slide {\\n  width: 100%;\\n  height: 100%;\\n}\\n\\nimg {\\n  width: 120px;\\n}\\n\\n.pick-avatar {\\n  width: 80px;\\n  opacity: 0.3;\\n}\\n\\n.pick-avatar-seleccionado {\\n  -webkit-transition: opacity 0.5s linear;\\n  transition: opacity 0.5s linear;\\n  opacity: 1 !important;\\n}\\n\\n.gridPosition {\\n  position: fixed;\\n  bottom: 35%;\\n  right: 10%;\\n  left: 10%;\\n}\\n\\nion-item {\\n  color: #10dc60;\\n  --background: none;\\n  --highlight-height: 1px;\\n}\\n\\n.Developer {\\n  position: fixed;\\n  top: 94%;\\n  font-size: 11px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbG9naW4vQzpcXHRlbXBcXHdzLWlvbmljXFxYRXhwcmVzc0FwcC9zcmNcXGFwcFxccGFnZXNcXGxvZ2luXFxsb2dpbi5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFFSSxXQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVBO0VBQ0ksWUFBQTtBQ0NKOztBREVBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUNDSjs7QURFQTtFQUNJLHVDQUFBO0VBQUEsK0JBQUE7RUFDQSxxQkFBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtFQUNBLFdBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLGtCQUFBO0VBQ0EsdUJBQUE7QUNDSjs7QURFQTtFQUNJLGVBQUE7RUFDQSxRQUFBO0VBQ0EsZUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1haW5TbGlkZSxcclxuLm1haW5TbGlkZSBpb24tc2xpZGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbmltZyB7XHJcbiAgICB3aWR0aDogMTIwcHg7XHJcbn1cclxuXHJcbi5waWNrLWF2YXRhciB7XHJcbiAgICB3aWR0aDogODBweDtcclxuICAgIG9wYWNpdHk6IDAuMztcclxufVxyXG5cclxuLnBpY2stYXZhdGFyLXNlbGVjY2lvbmFkbyB7XHJcbiAgICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuNXMgbGluZWFyO1xyXG4gICAgb3BhY2l0eTogMSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uZ3JpZFBvc2l0aW9uIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIGJvdHRvbTogMzUlO1xyXG4gICAgcmlnaHQ6IDEwJTtcclxuICAgIGxlZnQ6IDEwJTtcclxufVxyXG5cclxuaW9uLWl0ZW0ge1xyXG4gICAgY29sb3I6ICMxMGRjNjA7XHJcbiAgICAtLWJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICAtLWhpZ2hsaWdodC1oZWlnaHQ6IDFweDtcclxufVxyXG5cclxuLkRldmVsb3BlciB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICB0b3A6IDk0JTtcclxuICAgIGZvbnQtc2l6ZTogMTFweDtcclxufSIsIi5tYWluU2xpZGUsXG4ubWFpblNsaWRlIGlvbi1zbGlkZSB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbmltZyB7XG4gIHdpZHRoOiAxMjBweDtcbn1cblxuLnBpY2stYXZhdGFyIHtcbiAgd2lkdGg6IDgwcHg7XG4gIG9wYWNpdHk6IDAuMztcbn1cblxuLnBpY2stYXZhdGFyLXNlbGVjY2lvbmFkbyB7XG4gIHRyYW5zaXRpb246IG9wYWNpdHkgMC41cyBsaW5lYXI7XG4gIG9wYWNpdHk6IDEgIWltcG9ydGFudDtcbn1cblxuLmdyaWRQb3NpdGlvbiB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgYm90dG9tOiAzNSU7XG4gIHJpZ2h0OiAxMCU7XG4gIGxlZnQ6IDEwJTtcbn1cblxuaW9uLWl0ZW0ge1xuICBjb2xvcjogIzEwZGM2MDtcbiAgLS1iYWNrZ3JvdW5kOiBub25lO1xuICAtLWhpZ2hsaWdodC1oZWlnaHQ6IDFweDtcbn1cblxuLkRldmVsb3BlciB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiA5NCU7XG4gIGZvbnQtc2l6ZTogMTFweDtcbn0iXX0= */\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { NavController, ToastController } from '@ionic/angular';\r\nimport { CredenciaisDTO } from '../../interfaces/credenciaisDTO';\r\nimport { AuthService } from '../../services/auth.services';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n\r\n  creds: CredenciaisDTO = {\r\n    email: \"\",\r\n    password: \"\"\r\n  };\r\n  \r\n \r\n  constructor( private navCtrl: NavController, private auth: AuthService, private toastCtrl: ToastController) { }\r\n  \r\n\r\n  ngOnInit() {\r\n    this.auth.refreshToken()\r\n      .subscribe(resp => {\r\n        this.auth.successfullLogin(resp.headers.get(\"Authorization\"));\r\n        this.navCtrl.navigateRoot('main/tabs/tab2', { animated: true });\r\n      },\r\n        error => {});\r\n  }\r\n\r\n  logar() {\r\n    this.creds.email = this.creds.email.trim();\r\n    console.log('CREDS: ', this.creds);\r\n    this.auth.authenticate(this.creds)\r\n      .subscribe(resp => {\r\n        console.log('OBJ CREDS: ', this.creds);\r\n        this.auth.successfullLogin(resp.headers.get(\"Authorization\"));\r\n        this.navCtrl.navigateRoot('main/tabs/tab2', { animated: true });\r\n      },\r\n        error => {\r\n          console.log(error);\r\n          this.presentToast('Erro ' + error.status + ': Login ou senha incorretos');\r\n      });\r\n  }\r\n\r\n  async presentToast( message: string ) {\r\n    const toast = await this.toastCtrl.create({\r\n      message,\r\n      duration: 3000,\r\n      mode: \"ios\",\r\n      color: \"light\"\r\n    });\r\n    toast.present();\r\n  }\r\n\r\n}","import { environment } from './../../environments/environment.prod';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Resumo } from '../interfaces/resumo';\r\nimport { ResumoPorCidade } from '../interfaces/resumoPorCidade';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Recibos } from '../class/recibos';\r\nimport { Devolvidos } from '../Class/devolvidos';\r\n\r\nconst URL = environment.url;\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ContribuintesService {\r\n\r\n  dtInicio:string;\r\n  dtFim:string;\r\n\r\n  \r\n  constructor( private http: HttpClient, private route: ActivatedRoute, private router: Router ) { }\r\n\r\n  \r\n  // Pega as informações de recibos dos contribuintes no WebServices. \r\n  getListaRecibos(cod: number, bairro: string) {\r\n    // http://192.168.0.243:8081/recibos/listarecibosapp?cod=315&startDate=2019-07-01&endDate=2019-07-31\r\n    return this.http.get<Recibos[]>(`${ URL }/recibos/listarecibosapp?cod=${ cod }&startDate=2021-03-01&endDate=2021-03-31&bairro=${ bairro }`);\r\n  }\r\n  // Detalhes do recibo.\r\n  getRecibosDetalhe( nrorecibo: number ) {\r\n    // http://192.168.0.243:8081/recibos/app/11382872\r\n    return this.http.get<Recibos>(`${ URL }/recibos/app/${ nrorecibo }`);\r\n  }\r\n  // Pega as informações de resumo do mensageiro no WebServices.\r\n  getResumo(cod: number, dtStart: string, dtEnd: string) {\r\n    this.dtInicio = dtStart;\r\n    this.dtFim = dtEnd\r\n    // http://192.168.0.243:8081/recibos/resumomensageiro?cod=11&startDate=2017-01-01&endDate=2018-01-01\r\n    return this.http.get<Resumo>(`${ URL }/recibos/resumomensageiro?cod=${ cod }&startDate=${ dtStart }&endDate=${ dtEnd }`);\r\n  }\r\n  // Pega as informações de resumo do mensageiro por cidade.\r\n  getResumoPorCidade(cod: number) {\r\n    // http://192.168.0.243:8081/recibos/mensageiroporcidade1?cod=630&startDate=2019-01-01&endDate=2019-03-10\r\n    return this.http.get<ResumoPorCidade>(`${ URL }/recibos/mensageiroporcidade1?cod=${ cod }&startDate=${ this.dtInicio }&endDate=${ this.dtFim }`);\r\n  }\r\n  // Atualiza os recibos no BD\r\n  putRecibo( recibo: Recibos ) {\r\n    // http://localhost:8081/recibos/11369854\r\n    return this.http.put<Recibos>(`${ URL }/recibos/${ recibo.nrorecibo }`, recibo, {\r\n      headers: new HttpHeaders ({\r\n        'Content-Type': 'application/json' \r\n      })\r\n    });\r\n  }\r\n  // Cria recibos devolvidos\r\n  postDevolvidos( devolvido: Devolvidos ) {\r\n    // http://192.168.0.243:8081/devolvido/17044484\r\n    return this.http.post<Devolvidos>(`${ URL }/devolvido`, devolvido, {\r\n      headers: new HttpHeaders ({\r\n        'Content-Type': 'application/json'\r\n      })\r\n    });\r\n  }\r\n\r\n\r\n}\r\n"],"sourceRoot":""}