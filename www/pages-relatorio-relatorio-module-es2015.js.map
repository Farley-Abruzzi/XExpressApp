{"version":3,"sources":["./src/app/pages/relatorio/relatorio.page.html","./src/app/pages/relatorio/relatorio.module.ts","./src/app/pages/relatorio/relatorio.page.scss","./src/app/pages/relatorio/relatorio.page.ts"],"names":[],"mappings":";;;;;;;;;AAAA,+2EAA+2E,kCAAkC,wLAAwL,+BAA+B,2KAA2K,oCAAoC,yLAAyL,uBAAuB,0LAA0L,uBAAuB,0LAA0L,wBAAwB,0LAA0L,wBAAwB,mP;;;;;;;;;;;;;;;;;;;;;;;;ACAnlH;AACM;AACF;AACU;AAEV;AAEI;AACqB;AACU;AAEhF,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,6DAAa;KACzB;CACF,CAAC;AAeF,IAAa,mBAAmB,GAAhC,MAAa,mBAAmB;CAAG;AAAtB,mBAAmB;IAb/B,8DAAQ,CAAC;QACR,eAAe,EAAE;YACf,wFAAgB;SACjB;QACD,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,8EAAgB;YAChB,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B;QACD,YAAY,EAAE,CAAC,6DAAa,CAAC;KAC9B,CAAC;GACW,mBAAmB,CAAG;AAAH;;;;;;;;;;;;AC/BhC,gCAAgC,0CAA0C,mBAAmB,GAAG,oBAAoB,oBAAoB,cAAc,eAAe,uCAAuC,GAAG,kBAAkB,oBAAoB,cAAc,cAAc,uCAAuC,GAAG,mBAAmB,0CAA0C,GAAG,gBAAgB,oBAAoB,GAAG,oBAAoB,uBAAuB,yCAAyC,GAAG,mBAAmB,kCAAkC,GAAG,kBAAkB,iBAAiB,GAAG,sBAAsB,qCAAqC,GAAG,mBAAmB,uBAAuB,2CAA2C,wCAAwC,GAAG,6CAA6C,u+F;;;;;;;;;;;;;;;;;;;;;;;ACAzwB;AACY;AACO;AAEjC;AACqB;AACM;AACU;AAShF,IAAa,aAAa,GAA1B,MAAa,aAAa;IASxB,YAAqB,eAAgC,EAChC,cAAoC,EACpC,QAAkB,EAClB,OAAuB,EACvB,WAA8B,EAC/B,iBAAoC;QALnC,oBAAe,GAAf,eAAe,CAAiB;QAChC,mBAAc,GAAd,cAAc,CAAsB;QACpC,aAAQ,GAAR,QAAQ,CAAU;QAClB,YAAO,GAAP,OAAO,CAAgB;QACvB,gBAAW,GAAX,WAAW,CAAmB;QAC/B,sBAAiB,GAAjB,iBAAiB,CAAmB;QAVxD,YAAO,GAAS,IAAI,IAAI,EAAE,CAAC;QAC3B,UAAK,GAAS,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QACnF,aAAQ,GAAW,GAAG,CAAC;QACvB,UAAK,GAAW,GAAG,CAAC;IAOwC,CAAC;IAG7D,QAAQ;QACN,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,yBAAyB;IAC3B,CAAC;IAED,yFAAyF;IACzF,yEAAyE;IACzE,eAAe;QACb,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,kCAAkC;IACpC,CAAC;IAED,4CAA4C;IACtC,cAAc;;YAClB,IAAI,OAAO,GAAG,MAAM,IAAI,CAAC,cAAc,EAAE,CAAC;YACzC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC;iBACtD,SAAS,CAAE,IAAI,CAAC,EAAE;gBACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;gBACpB,OAAO,CAAC,OAAO,EAAE,CAAC;YACpB,CAAC,CAAC,CAAC;QACP,CAAC;KAAA;IAED,iEAAiE;IACjE,OAAO;QACH,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAC3E,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,0CAA0C;IAC1C,iBAAiB;QACf,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;YAC/C,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,KAAK,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;YACrC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qDAAqD;IACrD,QAAQ;QACN,IAAI,CAAC,aAAa,EAAE,CAAC;QAErB,IAAI,CAAC,eAAe,CAAC,KAAK,CACxB,6BAA6B,GAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,GAAE,KAAK,GAAE,IAAI,CAAC,KAAK,GAAG,IAAI;YAC5E,4BAA4B,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI;YAC3D,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,IAAI;YAC9D,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI;YAC/C,cAAc,GAAE,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI;YAChD,cAAc,GAAE,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,QAAQ,CACnD,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IAC5B,CAAC;IAEH,yCAAyC;IACzC,cAAc;QACZ,IAAI,CAAC,OAAO,CAAC,UAAU,CAAE,IAAI,CAAC,OAAO,CAAE,CAAC;QACxC,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,OAAO,CAAE,CAAC;IAC/C,CAAC;IAED,iBAAiB;IACjB,aAAa;QACZ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAC,YAAY,CAAC,CAAC;QACnE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAC,YAAY,CAAC,CAAC;IAC/D,CAAC;IAED,qCAAqC;IACrC,gBAAgB,CAAC,KAAK;QACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,IAAI,CAAE,KAAK,CAAC,MAAM,CAAC,KAAK,CAAE,EAAC,YAAY,CAAC,CAAC;QACrF,OAAO,CAAC,GAAG,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC9C,CAAC;IAED,iCAAiC;IACjC,aAAa,CAAC,KAAK;QACjB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,IAAI,CAAE,KAAK,CAAC,MAAM,CAAC,KAAK,CAAE,EAAC,YAAY,CAAC,CAAC;QAClF,OAAO,CAAC,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;QAEtC,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAEK,cAAc;;YAClB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC;gBAClD,QAAQ,EAAE,cAAc;gBACxB,OAAO,EAAE,eAAe;gBACxB,QAAQ,EAAE,IAAI;gBACd,OAAO,EAAE,SAAS;gBAClB,WAAW,EAAE,IAAI;aAClB,CAAC,CAAC;YACH,OAAO,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO,OAAO,CAAC;YAEf,sDAAsD;QACxD,CAAC;KAAA;IAED,iDAAiD;IAC3C,UAAU,CAAE,MAAM;;YAEtB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC5C,SAAS,EAAE,wFAAgB;gBAC3B,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,KAAK;gBACX,WAAW,EAAE,IAAI;gBACjB,QAAQ,EAAE,IAAI;aACf,CAAC,CAAC;YAEH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;KAAA;CACF;;YArHuC,kFAAe;YAChB,oFAAoB;YAC1B,wDAAQ;YACT,wEAAc;YACV,gEAAiB;YACZ,gEAAiB;;AAZ/C;IAAR,2DAAK,EAAE;;8CAAiB;AAFd,aAAa;IALzB,+DAAS,CAAC;QACT,QAAQ,EAAE,eAAe;QACzB,yJAAoC;;KAErC,CAAC;2EAUsC,kFAAe;QAChB,oFAAoB;QAC1B,wDAAQ;QACT,wEAAc;QACV,gEAAiB;QACZ,gEAAiB;GAd7C,aAAa,CA8HzB;AA9HyB","file":"pages-relatorio-relatorio-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n    <ion-toolbar color=\\\"dark\\\">\\r\\n        <ion-button class=\\\"buttonPrint\\\" slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"Imprimir()\\\">\\r\\n            <ion-icon name=\\\"print\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <ion-button class=\\\"buttonPrint\\\" slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"mostrarRecidos()\\\">\\r\\n            <ion-icon name=\\\"save\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Relatórios</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content color=\\\"light\\\">\\r\\n    <ion-grid>\\r\\n        <ion-row>\\r\\n            <ion-col>\\r\\n\\r\\n                <ion-list *ngIf=\\\"objetos\\\">\\r\\n                    <ion-toolbar class=\\\"SizeToolbar\\\" text-center color=\\\"success\\\">\\r\\n                        <ion-label class=\\\"LabelPeriodo\\\">Período</ion-label>\\r\\n                        <ion-button color=\\\"dark\\\" class=\\\"calendarStart\\\" slot=\\\"start\\\" fill=\\\"clear\\\">De\\r\\n                            <ion-icon name=\\\"calendar\\\"></ion-icon>\\r\\n                            <ion-datetime class=\\\"dateTime-1\\\" cancelText=\\\"Cancelar\\\" done-text=\\\"Ok\\\" (ionChange)=\\\"carregarDtInicio( $event )\\\" [ngModel]=\\\"dtStart.toISOString()\\\" display-format=\\\"DD/MM/YYYY\\\"></ion-datetime>\\r\\n                        </ion-button>\\r\\n\\r\\n                        <ion-button color=\\\"dark\\\" class=\\\"calendarEnd\\\" slot=\\\"start\\\" fill=\\\"clear\\\">Até\\r\\n                            <ion-icon name=\\\"calendar\\\"></ion-icon>\\r\\n                            <ion-datetime class=\\\"dateTime-2\\\" cancelText=\\\"Cancelar\\\" done-text=\\\"Ok\\\" (ionChange)=\\\"carregarDtFim( $event )\\\" [ngModel]=\\\"dtEnd.toISOString()\\\" display-format=\\\"DD/MM/YYYY\\\"></ion-datetime>\\r\\n                        </ion-button>\\r\\n                    </ion-toolbar>\\r\\n\\r\\n                    <ion-button class=\\\"ButtonPorCidade\\\" expand=\\\"block\\\" fill=\\\"outline\\\" (click)=\\\"mostrarPop( $event )\\\" color=\\\"success\\\">\\r\\n                        <b>Ver Por Cidade</b>\\r\\n                    </ion-button>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n                    <ion-card color=\\\"light\\\">\\r\\n                        <!-- Lista de contabilização por período. -->\\r\\n                        <ion-item color=\\\"medium\\\">\\r\\n                            <ion-label><b>Recebidos (Hoje):</b> R$ {{ objetos.qtdRecebido.toFixed(2) }}</ion-label>\\r\\n                        </ion-item>\\r\\n                        <ion-item color=\\\"light\\\">\\r\\n                            <ion-label><b>Total de contribuições:</b> R$ {{ objetos.totalQtd.toFixed(2) }}</ion-label>\\r\\n                        </ion-item>\\r\\n                        <ion-item color=\\\"light\\\">\\r\\n                            <ion-label><b>A Receber:</b> R$ {{ objetos.valorEmAberto.toFixed(2) }}</ion-label>\\r\\n                        </ion-item>\\r\\n                        <ion-item color=\\\"light\\\">\\r\\n                            <ion-label color=\\\"medium\\\"><b>Em Aberto:</b> {{ objetos.qtdEmAberto }}</ion-label>\\r\\n                        </ion-item>\\r\\n                        <ion-item color=\\\"light\\\">\\r\\n                            <ion-label color=\\\"success\\\"><b>Recebidas:</b> {{ objetos.qtdRecebido }}</ion-label>\\r\\n                        </ion-item>\\r\\n                        <ion-item color=\\\"light\\\">\\r\\n                            <ion-label color=\\\"danger\\\"><b>Devolvidas:</b> {{ objetos.qtdDevolvido }}</ion-label>\\r\\n                        </ion-item>\\r\\n                        <ion-item color=\\\"light\\\">\\r\\n                            <ion-label color=\\\"danger\\\"><b>Canceladas:</b> {{ objetos.qtdCancelado }}</ion-label>\\r\\n                        </ion-item>\\r\\n                        <br>\\r\\n                    </ion-card>\\r\\n                </ion-list>\\r\\n\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n    </ion-grid>\\r\\n\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RelatorioPage } from './relatorio.page';\r\nimport { ComponentsModule } from '../../components/components.module';\r\nimport { PopinfoComponent } from '../../components/popresumo/popinfo.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RelatorioPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  entryComponents: [\r\n    PopinfoComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ComponentsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [RelatorioPage]\r\n})\r\nexport class RelatorioPageModule {}\r\n","module.exports = \".buttonPrint {\\n  --color-activated: #3880ff !important;\\n  color: #10dc60;\\n}\\n\\n.calendarStart {\\n  position: fixed;\\n  top: 25px;\\n  right: 50%;\\n  --ripple-color: #192035 !important;\\n}\\n\\n.calendarEnd {\\n  position: fixed;\\n  top: 25px;\\n  left: 50%;\\n  --ripple-color: #192035 !important;\\n}\\n\\n.itemCalendar {\\n  --inner-padding-bottom: 5% !important;\\n}\\n\\n.sizeLabel {\\n  font-size: 20px;\\n}\\n\\n.ListPorCidade {\\n  --background: none;\\n  background-color: #d7d8da !important;\\n}\\n\\n.LabelPeriodo {\\n  margin-bottom: 15% !important;\\n}\\n\\n.SizeToolbar {\\n  height: 70px;\\n}\\n\\n.ButtonPorCidade {\\n  --border-radius: 10px !important;\\n}\\n\\n.loadingClass {\\n  --background: none;\\n  --background-color: #192035 !important;\\n  --spinner-color: #0ef366 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcmVsYXRvcmlvL0M6XFx0ZW1wXFx3cy1pb25pY1xcWEV4cHJlc3NBcHAvc3JjXFxhcHBcXHBhZ2VzXFxyZWxhdG9yaW9cXHJlbGF0b3Jpby5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3JlbGF0b3Jpby9yZWxhdG9yaW8ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUNBQUE7RUFDQSxjQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7RUFDQSxrQ0FBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0VBQ0Esa0NBQUE7QUNDSjs7QURFQTtFQUNJLHFDQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0FDQ0o7O0FERUE7RUFDSSxrQkFBQTtFQUNBLG9DQUFBO0FDQ0o7O0FERUE7RUFDSSw2QkFBQTtBQ0NKOztBREVBO0VBQ0ksWUFBQTtBQ0NKOztBREVBO0VBQ0ksZ0NBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0VBQ0Esc0NBQUE7RUFDQSxtQ0FBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcmVsYXRvcmlvL3JlbGF0b3Jpby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnV0dG9uUHJpbnQge1xyXG4gICAgLS1jb2xvci1hY3RpdmF0ZWQ6ICMzODgwZmYgIWltcG9ydGFudDtcclxuICAgIGNvbG9yOiAjMTBkYzYwO1xyXG59XHJcblxyXG4uY2FsZW5kYXJTdGFydCB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICB0b3A6IDI1cHg7XHJcbiAgICByaWdodDogNTAlO1xyXG4gICAgLS1yaXBwbGUtY29sb3I6ICMxOTIwMzUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmNhbGVuZGFyRW5kIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHRvcDogMjVweDtcclxuICAgIGxlZnQ6IDUwJTtcclxuICAgIC0tcmlwcGxlLWNvbG9yOiAjMTkyMDM1ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5pdGVtQ2FsZW5kYXIge1xyXG4gICAgLS1pbm5lci1wYWRkaW5nLWJvdHRvbTogNSUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLnNpemVMYWJlbCB7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbn1cclxuXHJcbi5MaXN0UG9yQ2lkYWRlIHtcclxuICAgIC0tYmFja2dyb3VuZDogbm9uZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkN2Q4ZGEgIWltcG9ydGFudDtcclxufVxyXG5cclxuLkxhYmVsUGVyaW9kbyB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNSUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLlNpemVUb29sYmFyIHtcclxuICAgIGhlaWdodDogNzBweDtcclxufVxyXG5cclxuLkJ1dHRvblBvckNpZGFkZSB7XHJcbiAgICAtLWJvcmRlci1yYWRpdXM6IDEwcHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLmxvYWRpbmdDbGFzcyB7XHJcbiAgICAtLWJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICAtLWJhY2tncm91bmQtY29sb3I6ICMxOTIwMzUgIWltcG9ydGFudDtcclxuICAgIC0tc3Bpbm5lci1jb2xvcjogIzBlZjM2NiAhaW1wb3J0YW50O1xyXG59IiwiLmJ1dHRvblByaW50IHtcbiAgLS1jb2xvci1hY3RpdmF0ZWQ6ICMzODgwZmYgIWltcG9ydGFudDtcbiAgY29sb3I6ICMxMGRjNjA7XG59XG5cbi5jYWxlbmRhclN0YXJ0IHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDI1cHg7XG4gIHJpZ2h0OiA1MCU7XG4gIC0tcmlwcGxlLWNvbG9yOiAjMTkyMDM1ICFpbXBvcnRhbnQ7XG59XG5cbi5jYWxlbmRhckVuZCB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiAyNXB4O1xuICBsZWZ0OiA1MCU7XG4gIC0tcmlwcGxlLWNvbG9yOiAjMTkyMDM1ICFpbXBvcnRhbnQ7XG59XG5cbi5pdGVtQ2FsZW5kYXIge1xuICAtLWlubmVyLXBhZGRpbmctYm90dG9tOiA1JSAhaW1wb3J0YW50O1xufVxuXG4uc2l6ZUxhYmVsIHtcbiAgZm9udC1zaXplOiAyMHB4O1xufVxuXG4uTGlzdFBvckNpZGFkZSB7XG4gIC0tYmFja2dyb3VuZDogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Q3ZDhkYSAhaW1wb3J0YW50O1xufVxuXG4uTGFiZWxQZXJpb2RvIHtcbiAgbWFyZ2luLWJvdHRvbTogMTUlICFpbXBvcnRhbnQ7XG59XG5cbi5TaXplVG9vbGJhciB7XG4gIGhlaWdodDogNzBweDtcbn1cblxuLkJ1dHRvblBvckNpZGFkZSB7XG4gIC0tYm9yZGVyLXJhZGl1czogMTBweCAhaW1wb3J0YW50O1xufVxuXG4ubG9hZGluZ0NsYXNzIHtcbiAgLS1iYWNrZ3JvdW5kOiBub25lO1xuICAtLWJhY2tncm91bmQtY29sb3I6ICMxOTIwMzUgIWltcG9ydGFudDtcbiAgLS1zcGlubmVyLWNvbG9yOiAjMGVmMzY2ICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { BluetoothSerial } from '@ionic-native/bluetooth-serial/ngx';\r\nimport { ContribuintesService } from '../../services/contribuintes.service';\r\nimport { Resumo } from '../../interfaces/resumo';\r\nimport { DatePipe } from '@angular/common';\r\nimport { StorageService } from '../../services/storage.service';\r\nimport { LoadingController, PopoverController } from '@ionic/angular';\r\nimport { PopinfoComponent } from '../../components/popresumo/popinfo.component';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-relatorio',\r\n  templateUrl: './relatorio.page.html',\r\n  styleUrls: ['./relatorio.page.scss'],\r\n})\r\nexport class RelatorioPage implements OnInit {\r\n\r\n  @Input() objetos: Resumo;\r\n\r\n  dtStart: Date = new Date();\r\n  dtEnd: Date = new Date(this.dtStart.getFullYear(), this.dtStart.getMonth() + 1, 0);\r\n  dtInicio: string = \" \";\r\n  dtFim: string = \" \";\r\n\r\n  constructor( private bluetoothSerial: BluetoothSerial,\r\n               private contribService: ContribuintesService,\r\n               private datePipe: DatePipe,\r\n               private storage: StorageService,\r\n               private popoverCtrl: PopoverController,\r\n               public loadingController: LoadingController) { }\r\n\r\n\r\n  ngOnInit() {\r\n    this.conversorDate();\r\n    this.connect();\r\n    this.carregarPeriodo();\r\n    // this.carregarResumo();\r\n  }\r\n\r\n  // Método para carregar a contabilização por período após a seleção da data início e fim.\r\n  // Carrega também os recibos por cidade através do mesmo seletor de data.\r\n  carregarPeriodo() {\r\n    this.carregarResumo();\r\n    // this.carregarResumoPorCidade();\r\n  }\r\n\r\n  // Carrega o objeto de resumo do mensageiro.\r\n  async carregarResumo() {\r\n    let loading = await this.presentLoading();\r\n     this.contribService.getResumo(this.dtInicio, this.dtFim)\r\n      .subscribe( resp => {\r\n        this.objetos = resp;\r\n        loading.dismiss();\r\n      });\r\n  }\r\n\r\n  // Método para conectar o dispositivo a impressora via bluetooth.\r\n  connect() {\r\n      this.bluetoothSerial.connectInsecure(\"00:02:5B:B4:13:87\").subscribe((data) => {\r\n        console.log('Conectado', data);\r\n      });\r\n  }\r\n\r\n  // Desconecta o dispositivo da impressora.\r\n  disconnectDevices() {\r\n    this.bluetoothSerial.disconnect().then((error) => {\r\n      console.log('Dispositivo desconectado.', error);\r\n    });\r\n    this.bluetoothSerial.clear().then(() => {\r\n      console.log('Limpo');\r\n    });\r\n  }\r\n\r\n  // Imprime as informações relacionadas na impressora.\r\n  Imprimir() {\r\n    this.conversorDate();\r\n\r\n    this.bluetoothSerial.write(\r\n      'Contabilizando o Periodo:\\n'+'DE' + this.dtInicio +' A '+ this.dtFim + '\\n' +\r\n      'Total de contribuicoes: R$' + this.objetos.totalQtd + '\\n' +\r\n      'A Receber: R$' + this.objetos.valorEmAberto.toFixed(2) + '\\n' +\r\n      'Recebidas: ' + this.objetos.qtdRecebido + '\\n' +\r\n      'Devolvidas: '+ this.objetos.qtdDevolvido + '\\n' +\r\n      'Canceladas: '+ this.objetos.qtdCancelado + '\\n\\n\\n'\r\n      );\r\n      console.log('Imprimindo');\r\n    }\r\n\r\n  // Teste, guarda recibos no local storage\r\n  mostrarRecidos() {\r\n    this.storage.setRecibos( this.objetos );\r\n    console.log('Recibos salvos', this.objetos );\r\n  }\r\n\r\n  // converte datas\r\n  conversorDate(): void {\r\n   this.dtInicio = this.datePipe.transform(this.dtStart,\"yyyy-MM-dd\");\r\n   this.dtFim = this.datePipe.transform(this.dtEnd,\"yyyy-MM-dd\");\r\n  }\r\n\r\n  // Carrega e transforma a data inicio\r\n  carregarDtInicio(event){\r\n    this.dtInicio = this.datePipe.transform(new Date( event.detail.value ),\"yyyy-MM-dd\");\r\n    console.log('Data Inicio ' + this.dtInicio);\r\n  }\r\n\r\n  // Carrega e tranforma a data fim\r\n  carregarDtFim(event){\r\n    this.dtFim = this.datePipe.transform(new Date( event.detail.value ),\"yyyy-MM-dd\");\r\n    console.log('Data Fim ' + this.dtFim);\r\n\r\n    this.carregarPeriodo();\r\n  }\r\n\r\n  async presentLoading() {\r\n    const loading = await this.loadingController.create({\r\n      cssClass: 'loadingClass',\r\n      message: 'Carregando...',\r\n      animated: true,\r\n      spinner: 'circles',\r\n      translucent: true\r\n    });\r\n    loading.present();\r\n    return loading;\r\n\r\n    //const { role, data } = await loading.onDidDismiss();\r\n  }\r\n\r\n  // Mostra o resumo por cidade da página relatorio\r\n  async mostrarPop( evento ) {\r\n\r\n    const popover = await this.popoverCtrl.create({\r\n      component: PopinfoComponent,\r\n      event: evento,\r\n      mode: 'ios',\r\n      translucent: true,\r\n      animated: true\r\n    });\r\n\r\n    await popover.present();\r\n  }\r\n}\r\n"],"sourceRoot":""}