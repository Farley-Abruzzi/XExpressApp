{"version":3,"sources":["./src/app/pages/relatorio/relatorio.page.html","./src/app/pages/relatorio/relatorio.module.ts","./src/app/pages/relatorio/relatorio.page.scss","./src/app/pages/relatorio/relatorio.page.ts","./src/app/services/data-local.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA,qlEAAqlE,kCAAkC,4IAA4I,+BAA+B,+HAA+H,oCAAoC,6IAA6I,uBAAuB,8IAA8I,uBAAuB,8IAA8I,wBAAwB,8IAA8I,wBAAwB,6K;;;;;;;;;;;;;;;;;;;;;;;;ACAjjG;AACM;AACF;AACU;AAEV;AAEI;AACqB;AACU;AAEhF,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,6DAAa;KACzB;CACF,CAAC;AAeF,IAAa,mBAAmB,GAAhC,MAAa,mBAAmB;CAAG;AAAtB,mBAAmB;IAb/B,8DAAQ,CAAC;QACR,eAAe,EAAE;YACf,wFAAgB;SACjB;QACD,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,8EAAgB;YAChB,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B;QACD,YAAY,EAAE,CAAC,6DAAa,CAAC;KAC9B,CAAC;GACW,mBAAmB,CAAG;AAAH;;;;;;;;;;;;AC/BhC,gCAAgC,0CAA0C,mBAAmB,GAAG,oBAAoB,oBAAoB,cAAc,eAAe,uCAAuC,GAAG,kBAAkB,oBAAoB,cAAc,cAAc,uCAAuC,GAAG,mBAAmB,0CAA0C,GAAG,gBAAgB,oBAAoB,GAAG,oBAAoB,uBAAuB,yCAAyC,GAAG,mBAAmB,kCAAkC,GAAG,kBAAkB,iBAAiB,GAAG,sBAAsB,qCAAqC,GAAG,6CAA6C,mlF;;;;;;;;;;;;;;;;;;;;;;;ACAzoB;AACY;AACO;AAEjC;AAC0B;AAClB;AAC6B;AAShF,IAAa,aAAa,GAA1B,MAAa,aAAa;IASxB,YAAqB,eAAgC,EAChC,cAAoC,EACpC,QAAkB,EAClB,SAA2B,EAC3B,WAA8B;QAJ9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,mBAAc,GAAd,cAAc,CAAsB;QACpC,aAAQ,GAAR,QAAQ,CAAU;QAClB,cAAS,GAAT,SAAS,CAAkB;QAC3B,gBAAW,GAAX,WAAW,CAAmB;QATnD,YAAO,GAAS,IAAI,IAAI,EAAE,CAAC;QAC3B,UAAK,GAAS,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;QACnF,aAAQ,GAAW,GAAG,CAAC;QACvB,UAAK,GAAW,GAAG,CAAC;IAMoC,CAAC;IAGzD,QAAQ;QAEN,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,yBAAyB;IAC3B,CAAC;IAED,yFAAyF;IACzF,yEAAyE;IACzE,eAAe;QACb,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,kCAAkC;IACpC,CAAC;IAED,4CAA4C;IAC5C,cAAc;QACX,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC;aACtD,SAAS,CAAE,IAAI,CAAC,EAAE;YACjB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACtB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iEAAiE;IACjE,OAAO;QACH,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,mBAAmB,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;YAC3E,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QACjC,CAAC,CAAC,CAAC;IACP,CAAC;IAED,0CAA0C;IAC1C,iBAAiB;QACf,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;YAC/C,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,KAAK,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;YACrC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qDAAqD;IACrD,QAAQ;QACN,IAAI,CAAC,aAAa,EAAE,CAAC;QAErB,IAAI,CAAC,eAAe,CAAC,KAAK,CACxB,6BAA6B,GAAC,IAAI,GAAG,IAAI,CAAC,QAAQ,GAAE,KAAK,GAAE,IAAI,CAAC,KAAK,GAAG,IAAI;YAC5E,4BAA4B,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI;YAC3D,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,IAAI;YAC9D,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,IAAI;YAC/C,cAAc,GAAE,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,IAAI;YAChD,cAAc,GAAE,IAAI,CAAC,OAAO,CAAC,YAAY,GAAG,QAAQ,CACnD,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;IAC5B,CAAC;IAEH,yCAAyC;IACzC,cAAc;QACZ,IAAI,CAAC,SAAS,CAAC,cAAc,CAAE,IAAI,CAAC,OAAO,CAAE,CAAC;QAC9C,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,OAAO,CAAE,CAAC;IAC/C,CAAC;IAED,iBAAiB;IACjB,aAAa;QACZ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,EAAC,YAAY,CAAC,CAAC;QACnE,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,EAAC,YAAY,CAAC,CAAC;IAC/D,CAAC;IAED,qCAAqC;IACrC,gBAAgB,CAAC,KAAK;QACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,IAAI,CAAE,KAAK,CAAC,MAAM,CAAC,KAAK,CAAE,EAAC,YAAY,CAAC,CAAC;QACrF,OAAO,CAAC,GAAG,CAAC,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC9C,CAAC;IAED,iCAAiC;IACjC,aAAa,CAAC,KAAK;QACjB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,IAAI,CAAE,KAAK,CAAC,MAAM,CAAC,KAAK,CAAE,EAAC,YAAY,CAAC,CAAC;QAClF,OAAO,CAAC,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;QAEtC,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAED,iDAAiD;IAC3C,UAAU,CAAE,MAAM;;YAEtB,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;gBAC5C,SAAS,EAAE,wFAAgB;gBAC3B,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,KAAK;gBACX,WAAW,EAAE,IAAI;gBACjB,QAAQ,EAAE,IAAI;aACf,CAAC,CAAC;YAEH,MAAM,OAAO,CAAC,OAAO,EAAE,CAAC;QAC1B,CAAC;KAAA;CACF;;YArGuC,kFAAe;YAChB,oFAAoB;YAC1B,wDAAQ;YACP,6EAAgB;YACd,gEAAiB;;AAX1C;IAAR,2DAAK,EAAE;;8CAAiB;AAFd,aAAa;IALzB,+DAAS,CAAC;QACT,QAAQ,EAAE,eAAe;QACzB,yJAAoC;;KAErC,CAAC;2EAUsC,kFAAe;QAChB,oFAAoB;QAC1B,wDAAQ;QACP,6EAAgB;QACd,gEAAiB;GAbxC,aAAa,CA8GzB;AA9GyB;;;;;;;;;;;;;;;;;;;AChBiB;AACF;AAMzC,IAAa,gBAAgB,GAA7B,MAAa,gBAAgB;IAI3B,YAAqB,OAAgB;QAAhB,YAAO,GAAP,OAAO,CAAS;QAFrC,YAAO,GAAa,EAAE,CAAC;IAEmB,CAAC;IAG3C,cAAc,CAAE,OAAe;QAE7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAE,OAAO,CAAE,CAAC;QAE7B,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAE,CAAC;IAE7C,CAAC;CACF;;YAV+B,sDAAO;;AAJ1B,gBAAgB;IAH5B,gEAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;2EAK8B,sDAAO;GAJ1B,gBAAgB,CAc5B;AAd4B","file":"pages-relatorio-relatorio-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-button class=\\\"buttonPrint\\\" slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"Imprimir()\\\">\\n      <ion-icon name=\\\"print\\\"></ion-icon>\\n    </ion-button>\\n    <ion-button class=\\\"buttonPrint\\\" slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"mostrarRecidos()\\\">\\n      <ion-icon name=\\\"save\\\"></ion-icon>\\n    </ion-button>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Relatórios</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content color=\\\"light\\\">\\n\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col>\\n\\n          \\n\\n        <ion-list *ngIf=\\\"objetos\\\">\\n          <ion-toolbar class=\\\"SizeToolbar\\\" text-center color=\\\"success\\\">\\n            <ion-label class=\\\"LabelPeriodo\\\">Período</ion-label>\\n            <ion-button color=\\\"dark\\\" class=\\\"calendarStart\\\" slot=\\\"start\\\" fill=\\\"clear\\\">De\\n              <ion-icon name=\\\"calendar\\\"></ion-icon>\\n              <ion-datetime class=\\\"dateTime-1\\\" cancelText=\\\"Cancelar\\\" done-text=\\\"Ok\\\" (ionChange)=\\\"carregarDtInicio( $event )\\\" [ngModel]=\\\"dtStart.toISOString()\\\"\\n                display-format=\\\"DD/MM/YYYY\\\"></ion-datetime>\\n            </ion-button>\\n      \\n            <ion-button color=\\\"dark\\\" class=\\\"calendarEnd\\\" slot=\\\"start\\\" fill=\\\"clear\\\">Até\\n              <ion-icon name=\\\"calendar\\\"></ion-icon>\\n              <ion-datetime class=\\\"dateTime-2\\\" cancelText=\\\"Cancelar\\\" done-text=\\\"Ok\\\" (ionChange)=\\\"carregarDtFim( $event )\\\" [ngModel]=\\\"dtEnd.toISOString()\\\"\\n                display-format=\\\"DD/MM/YYYY\\\"></ion-datetime>\\n            </ion-button>\\n          </ion-toolbar>\\n\\n          <ion-button class=\\\"ButtonPorCidade\\\" expand=\\\"block\\\" fill=\\\"outline\\\" (click)=\\\"mostrarPop( $event )\\\" color=\\\"success\\\">\\n            <b>Ver Por Cidade</b>\\n          </ion-button>\\n          \\n            \\n\\n          \\n      \\n          <ion-card color=\\\"light\\\">\\n            <!-- Lista de contabilização por período. -->\\n            <ion-item color=\\\"medium\\\">\\n              <ion-label><b>Recebidos (Hoje):</b> R$ {{ objetos.qtdRecebido.toFixed(2) }}</ion-label>\\n            </ion-item>\\n            <ion-item color=\\\"light\\\">\\n              <ion-label><b>Total de contribuições:</b> R$ {{ objetos.totalQtd.toFixed(2) }}</ion-label>\\n            </ion-item>\\n            <ion-item color=\\\"light\\\">\\n              <ion-label><b>A Receber:</b> R$ {{ objetos.valorEmAberto.toFixed(2) }}</ion-label>\\n            </ion-item>\\n            <ion-item color=\\\"light\\\">\\n              <ion-label color=\\\"medium\\\"><b>Em Aberto:</b> {{ objetos.qtdEmAberto }}</ion-label>\\n            </ion-item>\\n            <ion-item color=\\\"light\\\">\\n              <ion-label color=\\\"success\\\"><b>Recebidas:</b> {{ objetos.qtdRecebido }}</ion-label>\\n            </ion-item>\\n            <ion-item color=\\\"light\\\">\\n              <ion-label color=\\\"danger\\\"><b>Devolvidas:</b> {{ objetos.qtdDevolvido }}</ion-label>\\n            </ion-item>\\n            <ion-item color=\\\"light\\\">\\n              <ion-label color=\\\"danger\\\"><b>Canceladas:</b> {{ objetos.qtdCancelado }}</ion-label>\\n            </ion-item>\\n            <br>\\n          </ion-card>\\n        </ion-list>\\n\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n</ion-content>\\n\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RelatorioPage } from './relatorio.page';\nimport { ComponentsModule } from '../../components/components.module';\nimport { PopinfoComponent } from '../../components/popresumo/popinfo.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RelatorioPage\n  }\n];\n\n@NgModule({\n  entryComponents: [\n    PopinfoComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ComponentsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [RelatorioPage]\n})\nexport class RelatorioPageModule {}\n","module.exports = \".buttonPrint {\\n  --color-activated: #3880ff !important;\\n  color: #10dc60;\\n}\\n\\n.calendarStart {\\n  position: fixed;\\n  top: 25px;\\n  right: 50%;\\n  --ripple-color: #192035 !important;\\n}\\n\\n.calendarEnd {\\n  position: fixed;\\n  top: 25px;\\n  left: 50%;\\n  --ripple-color: #192035 !important;\\n}\\n\\n.itemCalendar {\\n  --inner-padding-bottom: 5% !important;\\n}\\n\\n.sizeLabel {\\n  font-size: 20px;\\n}\\n\\n.ListPorCidade {\\n  --background: none;\\n  background-color: #d7d8da !important;\\n}\\n\\n.LabelPeriodo {\\n  margin-bottom: 15% !important;\\n}\\n\\n.SizeToolbar {\\n  height: 70px;\\n}\\n\\n.ButtonPorCidade {\\n  --border-radius: 10px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcmVsYXRvcmlvL0M6XFxVc2Vyc1xcZWxpc2V1XFxEZXNrdG9wXFwxMC1leHByZXNzL3NyY1xcYXBwXFxwYWdlc1xccmVsYXRvcmlvXFxyZWxhdG9yaW8ucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9yZWxhdG9yaW8vcmVsYXRvcmlvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFDQUFBO0VBQ0EsY0FBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0VBQ0Esa0NBQUE7QUNDSjs7QURFQTtFQUNJLGVBQUE7RUFDQSxTQUFBO0VBQ0EsU0FBQTtFQUNBLGtDQUFBO0FDQ0o7O0FERUE7RUFDSSxxQ0FBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtBQ0NKOztBREVBO0VBQ0ksa0JBQUE7RUFDQSxvQ0FBQTtBQ0NKOztBREVBO0VBQ0ksNkJBQUE7QUNDSjs7QURFQTtFQUNJLFlBQUE7QUNDSjs7QURFQTtFQUNJLGdDQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9yZWxhdG9yaW8vcmVsYXRvcmlvLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5idXR0b25QcmludCB7XHJcbiAgICAtLWNvbG9yLWFjdGl2YXRlZDogIzM4ODBmZiAhaW1wb3J0YW50O1xyXG4gICAgY29sb3I6ICMxMGRjNjA7XHJcbn1cclxuXHJcbi5jYWxlbmRhclN0YXJ0IHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHRvcDogMjVweDtcclxuICAgIHJpZ2h0OiA1MCU7XHJcbiAgICAtLXJpcHBsZS1jb2xvcjogIzE5MjAzNSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uY2FsZW5kYXJFbmQge1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgdG9wOiAyNXB4O1xyXG4gICAgbGVmdDogNTAlO1xyXG4gICAgLS1yaXBwbGUtY29sb3I6ICMxOTIwMzUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLml0ZW1DYWxlbmRhciB7XHJcbiAgICAtLWlubmVyLXBhZGRpbmctYm90dG9tOiA1JSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uc2l6ZUxhYmVsIHtcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxufVxyXG5cclxuLkxpc3RQb3JDaWRhZGUge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiBub25lO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Q3ZDhkYSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uTGFiZWxQZXJpb2RvIHtcclxuICAgIG1hcmdpbi1ib3R0b206IDE1JSAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4uU2l6ZVRvb2xiYXIge1xyXG4gICAgaGVpZ2h0OiA3MHB4O1xyXG59XHJcblxyXG4uQnV0dG9uUG9yQ2lkYWRlIHtcclxuICAgIC0tYm9yZGVyLXJhZGl1czogMTBweCAhaW1wb3J0YW50O1xyXG59XHJcblxyXG4iLCIuYnV0dG9uUHJpbnQge1xuICAtLWNvbG9yLWFjdGl2YXRlZDogIzM4ODBmZiAhaW1wb3J0YW50O1xuICBjb2xvcjogIzEwZGM2MDtcbn1cblxuLmNhbGVuZGFyU3RhcnQge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMjVweDtcbiAgcmlnaHQ6IDUwJTtcbiAgLS1yaXBwbGUtY29sb3I6ICMxOTIwMzUgIWltcG9ydGFudDtcbn1cblxuLmNhbGVuZGFyRW5kIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDI1cHg7XG4gIGxlZnQ6IDUwJTtcbiAgLS1yaXBwbGUtY29sb3I6ICMxOTIwMzUgIWltcG9ydGFudDtcbn1cblxuLml0ZW1DYWxlbmRhciB7XG4gIC0taW5uZXItcGFkZGluZy1ib3R0b206IDUlICFpbXBvcnRhbnQ7XG59XG5cbi5zaXplTGFiZWwge1xuICBmb250LXNpemU6IDIwcHg7XG59XG5cbi5MaXN0UG9yQ2lkYWRlIHtcbiAgLS1iYWNrZ3JvdW5kOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDdkOGRhICFpbXBvcnRhbnQ7XG59XG5cbi5MYWJlbFBlcmlvZG8ge1xuICBtYXJnaW4tYm90dG9tOiAxNSUgIWltcG9ydGFudDtcbn1cblxuLlNpemVUb29sYmFyIHtcbiAgaGVpZ2h0OiA3MHB4O1xufVxuXG4uQnV0dG9uUG9yQ2lkYWRlIHtcbiAgLS1ib3JkZXItcmFkaXVzOiAxMHB4ICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { BluetoothSerial } from '@ionic-native/bluetooth-serial/ngx';\nimport { ContribuintesService } from '../../services/contribuintes.service';\nimport { Resumo } from '../../interfaces/resumo';\nimport { DatePipe } from '@angular/common';\nimport { DataLocalService } from '../../services/data-local.service';\nimport { PopoverController } from '@ionic/angular';\nimport { PopinfoComponent } from '../../components/popresumo/popinfo.component';\n\n\n\n@Component({\n  selector: 'app-relatorio',\n  templateUrl: './relatorio.page.html',\n  styleUrls: ['./relatorio.page.scss'],\n})\nexport class RelatorioPage implements OnInit {\n\n  @Input() objetos: Resumo;\n\n  dtStart: Date = new Date();\n  dtEnd: Date = new Date(this.dtStart.getFullYear(), this.dtStart.getMonth() + 1, 0);\n  dtInicio: string = \" \";\n  dtFim: string = \" \";\n\n  constructor( private bluetoothSerial: BluetoothSerial,\n               private contribService: ContribuintesService,\n               private datePipe: DatePipe,\n               private dataLocal: DataLocalService,\n               private popoverCtrl: PopoverController ) { }\n\n\n  ngOnInit() {\n\n    this.conversorDate();\n    this.connect();\n    this.carregarPeriodo();\n    // this.carregarResumo();\n  }\n\n  // Método para carregar a contabilização por período após a seleção da data início e fim.\n  // Carrega também os recibos por cidade através do mesmo seletor de data.\n  carregarPeriodo() {\n    this.carregarResumo();\n    // this.carregarResumoPorCidade();\n  }\n\n  // Carrega o objeto de resumo do mensageiro.\n  carregarResumo() {\n     this.contribService.getResumo(this.dtInicio, this.dtFim)\n      .subscribe( resp => {\n        this.objetos = resp;\n      });\n  }\n\n  // Método para conectar o dispositivo a impressora via bluetooth.\n  connect() {\n      this.bluetoothSerial.connectInsecure(\"00:02:5B:B4:13:87\").subscribe((data) => {\n        console.log('Conectado', data);\n      });\n  }\n\n  // Desconecta o dispositivo da impressora.\n  disconnectDevices() {\n    this.bluetoothSerial.disconnect().then((error) => {\n      console.log('Dispositivo desconectado.', error);\n    });\n    this.bluetoothSerial.clear().then(() => {\n      console.log('Limpo');\n    });\n  }\n\n  // Imprime as informações relacionadas na impressora.\n  Imprimir() {\n    this.conversorDate();\n\n    this.bluetoothSerial.write(\n      'Contabilizando o Periodo:\\n'+'DE' + this.dtInicio +' A '+ this.dtFim + '\\n' +\n      'Total de contribuicoes: R$' + this.objetos.totalQtd + '\\n' +\n      'A Receber: R$' + this.objetos.valorEmAberto.toFixed(2) + '\\n' +\n      'Recebidas: ' + this.objetos.qtdRecebido + '\\n' +\n      'Devolvidas: '+ this.objetos.qtdDevolvido + '\\n' +\n      'Canceladas: '+ this.objetos.qtdCancelado + '\\n\\n\\n'\n      );\n      console.log('Imprimindo');\n    }\n\n  // Teste, guarda recibos no local storage\n  mostrarRecidos() {\n    this.dataLocal.guardarRecibos( this.objetos );\n    console.log('Recibos salvos', this.objetos );\n  }\n\n  // converte datas\n  conversorDate(): void {\n   this.dtInicio = this.datePipe.transform(this.dtStart,\"yyyy-MM-dd\");\n   this.dtFim = this.datePipe.transform(this.dtEnd,\"yyyy-MM-dd\");\n  }\n\n  // Carrega e transforma a data inicio\n  carregarDtInicio(event){\n    this.dtInicio = this.datePipe.transform(new Date( event.detail.value ),\"yyyy-MM-dd\");\n    console.log('Data Inicio ' + this.dtInicio);\n  }\n\n  // Carrega e tranforma a data fim\n  carregarDtFim(event){\n    this.dtFim = this.datePipe.transform(new Date( event.detail.value ),\"yyyy-MM-dd\");\n    console.log('Data Fim ' + this.dtFim);\n\n    this.carregarPeriodo();\n  }\n\n  // Mostra o resumo por cidade da página relatorio\n  async mostrarPop( evento ) {\n\n    const popover = await this.popoverCtrl.create({\n      component: PopinfoComponent,\n      event: evento,\n      mode: 'ios',\n      translucent: true,\n      animated: true\n    });\n\n    await popover.present();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { Resumo } from '../interfaces/resumo';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataLocalService {\n\n  objetos: Resumo[] = [];\n\n  constructor( private storage: Storage ) { }\n\n\n  guardarRecibos( objetos: Resumo ) {\n\n    this.objetos.push( objetos );\n\n    this.storage.set('objetos', this.objetos );\n\n  }\n}\n"],"sourceRoot":""}