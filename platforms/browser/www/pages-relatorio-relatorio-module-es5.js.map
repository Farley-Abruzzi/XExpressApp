{"version":3,"sources":["./src/app/pages/relatorio/relatorio.page.html","./src/app/pages/relatorio/relatorio.module.ts","./src/app/pages/relatorio/relatorio.page.scss","./src/app/pages/relatorio/relatorio.page.ts"],"names":[],"mappings":"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","file":"pages-relatorio-relatorio-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\n    <ion-toolbar color=\\\"dark\\\">\\n        <ion-button class=\\\"buttonPrint\\\" slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"Imprimir()\\\">\\n            <ion-icon name=\\\"print\\\"></ion-icon>\\n        </ion-button>\\n        <ion-button class=\\\"buttonPrint\\\" slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"mostrarRecidos()\\\">\\n            <ion-icon name=\\\"save\\\"></ion-icon>\\n        </ion-button>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n        </ion-buttons>\\n        <ion-title>Relatórios</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content color=\\\"light\\\">\\n    <ion-grid>\\n        <ion-row>\\n            <ion-col>\\n\\n                <ion-list *ngIf=\\\"objetos\\\">\\n                    <ion-toolbar class=\\\"SizeToolbar\\\" text-center color=\\\"success\\\">\\n                        <ion-label class=\\\"LabelPeriodo\\\">Período</ion-label>\\n                        <ion-button color=\\\"dark\\\" class=\\\"calendarStart\\\" slot=\\\"start\\\" fill=\\\"clear\\\">De\\n                            <ion-icon name=\\\"calendar\\\"></ion-icon>\\n                            <ion-datetime class=\\\"dateTime-1\\\" cancelText=\\\"Cancelar\\\" done-text=\\\"Ok\\\" (ionChange)=\\\"carregarDtInicio( $event )\\\" [ngModel]=\\\"dtStart.toISOString()\\\" display-format=\\\"DD/MM/YYYY\\\"></ion-datetime>\\n                        </ion-button>\\n\\n                        <ion-button color=\\\"dark\\\" class=\\\"calendarEnd\\\" slot=\\\"start\\\" fill=\\\"clear\\\">Até\\n                            <ion-icon name=\\\"calendar\\\"></ion-icon>\\n                            <ion-datetime class=\\\"dateTime-2\\\" cancelText=\\\"Cancelar\\\" done-text=\\\"Ok\\\" (ionChange)=\\\"carregarDtFim( $event )\\\" [ngModel]=\\\"dtEnd.toISOString()\\\" display-format=\\\"DD/MM/YYYY\\\"></ion-datetime>\\n                        </ion-button>\\n                    </ion-toolbar>\\n\\n                    <ion-button class=\\\"ButtonPorCidade\\\" expand=\\\"block\\\" fill=\\\"outline\\\" (click)=\\\"mostrarPop( $event )\\\" color=\\\"success\\\">\\n                        <b>Ver Por Cidade</b>\\n                    </ion-button>\\n\\n\\n\\n\\n\\n                    <ion-card color=\\\"light\\\">\\n                        <!-- Lista de contabilização por período. -->\\n                        <ion-item color=\\\"medium\\\">\\n                            <ion-label><b>Recebidos (Hoje):</b> R$ {{ objetos.qtdRecebido.toFixed(2) }}</ion-label>\\n                        </ion-item>\\n                        <ion-item color=\\\"light\\\">\\n                            <ion-label><b>Total de contribuições:</b> R$ {{ objetos.totalQtd.toFixed(2) }}</ion-label>\\n                        </ion-item>\\n                        <ion-item color=\\\"light\\\">\\n                            <ion-label><b>A Receber:</b> R$ {{ objetos.valorEmAberto.toFixed(2) }}</ion-label>\\n                        </ion-item>\\n                        <ion-item color=\\\"light\\\">\\n                            <ion-label color=\\\"medium\\\"><b>Em Aberto:</b> {{ objetos.qtdEmAberto }}</ion-label>\\n                        </ion-item>\\n                        <ion-item color=\\\"light\\\">\\n                            <ion-label color=\\\"success\\\"><b>Recebidas:</b> {{ objetos.qtdRecebido }}</ion-label>\\n                        </ion-item>\\n                        <ion-item color=\\\"light\\\">\\n                            <ion-label color=\\\"danger\\\"><b>Devolvidas:</b> {{ objetos.qtdDevolvido }}</ion-label>\\n                        </ion-item>\\n                        <ion-item color=\\\"light\\\">\\n                            <ion-label color=\\\"danger\\\"><b>Canceladas:</b> {{ objetos.qtdCancelado }}</ion-label>\\n                        </ion-item>\\n                        <br>\\n                    </ion-card>\\n                </ion-list>\\n\\n            </ion-col>\\n        </ion-row>\\n    </ion-grid>\\n\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RelatorioPage } from './relatorio.page';\nimport { ComponentsModule } from '../../components/components.module';\nimport { PopinfoComponent } from '../../components/popresumo/popinfo.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RelatorioPage\n  }\n];\n\n@NgModule({\n  entryComponents: [\n    PopinfoComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ComponentsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [RelatorioPage]\n})\nexport class RelatorioPageModule {}\n","module.exports = \".buttonPrint {\\n  --color-activated: #3880ff !important;\\n  color: #10dc60;\\n}\\n\\n.calendarStart {\\n  position: fixed;\\n  top: 25px;\\n  right: 50%;\\n  --ripple-color: #192035 !important;\\n}\\n\\n.calendarEnd {\\n  position: fixed;\\n  top: 25px;\\n  left: 50%;\\n  --ripple-color: #192035 !important;\\n}\\n\\n.itemCalendar {\\n  --inner-padding-bottom: 5% !important;\\n}\\n\\n.sizeLabel {\\n  font-size: 20px;\\n}\\n\\n.ListPorCidade {\\n  --background: none;\\n  background-color: #d7d8da !important;\\n}\\n\\n.LabelPeriodo {\\n  margin-bottom: 15% !important;\\n}\\n\\n.SizeToolbar {\\n  height: 70px;\\n}\\n\\n.ButtonPorCidade {\\n  --border-radius: 10px !important;\\n}\\n\\n.loadingClass {\\n  --background: none;\\n  --background-color: #192035 !important;\\n  --spinner-color: #0ef366 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcmVsYXRvcmlvL0M6XFx0ZW1wXFx3cy1pb25pY1xcWEV4cHJlc3NBcHAvc3JjXFxhcHBcXHBhZ2VzXFxyZWxhdG9yaW9cXHJlbGF0b3Jpby5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3JlbGF0b3Jpby9yZWxhdG9yaW8ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUNBQUE7RUFDQSxjQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7RUFDQSxrQ0FBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0VBQ0Esa0NBQUE7QUNDSjs7QURFQTtFQUNJLHFDQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0FDQ0o7O0FERUE7RUFDSSxrQkFBQTtFQUNBLG9DQUFBO0FDQ0o7O0FERUE7RUFDSSw2QkFBQTtBQ0NKOztBREVBO0VBQ0ksWUFBQTtBQ0NKOztBREVBO0VBQ0ksZ0NBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0VBQ0Esc0NBQUE7RUFDQSxtQ0FBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcmVsYXRvcmlvL3JlbGF0b3Jpby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnV0dG9uUHJpbnQge1xyXG4gICAgLS1jb2xvci1hY3RpdmF0ZWQ6ICMzODgwZmYgIWltcG9ydGFudDtcclxuICAgIGNvbG9yOiAjMTBkYzYwO1xyXG59XHJcblxyXG4uY2FsZW5kYXJTdGFydCB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICB0b3A6IDI1cHg7XHJcbiAgICByaWdodDogNTAlO1xyXG4gICAgLS1yaXBwbGUtY29sb3I6ICMxOTIwMzUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmNhbGVuZGFyRW5kIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHRvcDogMjVweDtcclxuICAgIGxlZnQ6IDUwJTtcclxuICAgIC0tcmlwcGxlLWNvbG9yOiAjMTkyMDM1ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5pdGVtQ2FsZW5kYXIge1xyXG4gICAgLS1pbm5lci1wYWRkaW5nLWJvdHRvbTogNSUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLnNpemVMYWJlbCB7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbn1cclxuXHJcbi5MaXN0UG9yQ2lkYWRlIHtcclxuICAgIC0tYmFja2dyb3VuZDogbm9uZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkN2Q4ZGEgIWltcG9ydGFudDtcclxufVxyXG5cclxuLkxhYmVsUGVyaW9kbyB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNSUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLlNpemVUb29sYmFyIHtcclxuICAgIGhlaWdodDogNzBweDtcclxufVxyXG5cclxuLkJ1dHRvblBvckNpZGFkZSB7XHJcbiAgICAtLWJvcmRlci1yYWRpdXM6IDEwcHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLmxvYWRpbmdDbGFzcyB7XHJcbiAgICAtLWJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICAtLWJhY2tncm91bmQtY29sb3I6ICMxOTIwMzUgIWltcG9ydGFudDtcclxuICAgIC0tc3Bpbm5lci1jb2xvcjogIzBlZjM2NiAhaW1wb3J0YW50O1xyXG59IiwiLmJ1dHRvblByaW50IHtcbiAgLS1jb2xvci1hY3RpdmF0ZWQ6ICMzODgwZmYgIWltcG9ydGFudDtcbiAgY29sb3I6ICMxMGRjNjA7XG59XG5cbi5jYWxlbmRhclN0YXJ0IHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDI1cHg7XG4gIHJpZ2h0OiA1MCU7XG4gIC0tcmlwcGxlLWNvbG9yOiAjMTkyMDM1ICFpbXBvcnRhbnQ7XG59XG5cbi5jYWxlbmRhckVuZCB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiAyNXB4O1xuICBsZWZ0OiA1MCU7XG4gIC0tcmlwcGxlLWNvbG9yOiAjMTkyMDM1ICFpbXBvcnRhbnQ7XG59XG5cbi5pdGVtQ2FsZW5kYXIge1xuICAtLWlubmVyLXBhZGRpbmctYm90dG9tOiA1JSAhaW1wb3J0YW50O1xufVxuXG4uc2l6ZUxhYmVsIHtcbiAgZm9udC1zaXplOiAyMHB4O1xufVxuXG4uTGlzdFBvckNpZGFkZSB7XG4gIC0tYmFja2dyb3VuZDogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Q3ZDhkYSAhaW1wb3J0YW50O1xufVxuXG4uTGFiZWxQZXJpb2RvIHtcbiAgbWFyZ2luLWJvdHRvbTogMTUlICFpbXBvcnRhbnQ7XG59XG5cbi5TaXplVG9vbGJhciB7XG4gIGhlaWdodDogNzBweDtcbn1cblxuLkJ1dHRvblBvckNpZGFkZSB7XG4gIC0tYm9yZGVyLXJhZGl1czogMTBweCAhaW1wb3J0YW50O1xufVxuXG4ubG9hZGluZ0NsYXNzIHtcbiAgLS1iYWNrZ3JvdW5kOiBub25lO1xuICAtLWJhY2tncm91bmQtY29sb3I6ICMxOTIwMzUgIWltcG9ydGFudDtcbiAgLS1zcGlubmVyLWNvbG9yOiAjMGVmMzY2ICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { BluetoothSerial } from '@ionic-native/bluetooth-serial/ngx';\nimport { ContribuintesService } from '../../services/contribuintes.service';\nimport { Resumo } from '../../interfaces/resumo';\nimport { DatePipe } from '@angular/common';\nimport { StorageService } from '../../services/storage.service';\nimport { LoadingController, PopoverController } from '@ionic/angular';\nimport { PopinfoComponent } from '../../components/popresumo/popinfo.component';\n\n\n\n@Component({\n  selector: 'app-relatorio',\n  templateUrl: './relatorio.page.html',\n  styleUrls: ['./relatorio.page.scss'],\n})\nexport class RelatorioPage implements OnInit {\n\n  @Input() objetos: Resumo;\n\n  dtStart: Date = new Date();\n  dtEnd: Date = new Date(this.dtStart.getFullYear(), this.dtStart.getMonth() + 1, 0);\n  dtInicio: string = \" \";\n  dtFim: string = \" \";\n\n  constructor( private bluetoothSerial: BluetoothSerial,\n               private contribService: ContribuintesService,\n               private datePipe: DatePipe,\n               private storage: StorageService,\n               private popoverCtrl: PopoverController,\n               public loadingController: LoadingController) { }\n\n\n  ngOnInit() {\n    this.conversorDate();\n    this.connect();\n    this.carregarPeriodo();\n    // this.carregarResumo();\n  }\n\n  // Método para carregar a contabilização por período após a seleção da data início e fim.\n  // Carrega também os recibos por cidade através do mesmo seletor de data.\n  carregarPeriodo() {\n    this.carregarResumo();\n    // this.carregarResumoPorCidade();\n  }\n\n  // Carrega o objeto de resumo do mensageiro.\n  async carregarResumo() {\n    let loading = await this.presentLoading();\n     this.contribService.getResumo(this.dtInicio, this.dtFim)\n      .subscribe( resp => {\n        this.objetos = resp;\n        loading.dismiss();\n      });\n  }\n\n  // Método para conectar o dispositivo a impressora via bluetooth.\n  connect() {\n      this.bluetoothSerial.connectInsecure(\"00:02:5B:B4:13:87\").subscribe((data) => {\n        console.log('Conectado', data);\n      });\n  }\n\n  // Desconecta o dispositivo da impressora.\n  disconnectDevices() {\n    this.bluetoothSerial.disconnect().then((error) => {\n      console.log('Dispositivo desconectado.', error);\n    });\n    this.bluetoothSerial.clear().then(() => {\n      console.log('Limpo');\n    });\n  }\n\n  // Imprime as informações relacionadas na impressora.\n  Imprimir() {\n    this.conversorDate();\n\n    this.bluetoothSerial.write(\n      'Contabilizando o Periodo:\\n'+'DE' + this.dtInicio +' A '+ this.dtFim + '\\n' +\n      'Total de contribuicoes: R$' + this.objetos.totalQtd + '\\n' +\n      'A Receber: R$' + this.objetos.valorEmAberto.toFixed(2) + '\\n' +\n      'Recebidas: ' + this.objetos.qtdRecebido + '\\n' +\n      'Devolvidas: '+ this.objetos.qtdDevolvido + '\\n' +\n      'Canceladas: '+ this.objetos.qtdCancelado + '\\n\\n\\n'\n      );\n      console.log('Imprimindo');\n    }\n\n  // Teste, guarda recibos no local storage\n  mostrarRecidos() {\n    this.storage.setRecibos( this.objetos );\n    console.log('Recibos salvos', this.objetos );\n  }\n\n  // converte datas\n  conversorDate(): void {\n   this.dtInicio = this.datePipe.transform(this.dtStart,\"yyyy-MM-dd\");\n   this.dtFim = this.datePipe.transform(this.dtEnd,\"yyyy-MM-dd\");\n  }\n\n  // Carrega e transforma a data inicio\n  carregarDtInicio(event){\n    this.dtInicio = this.datePipe.transform(new Date( event.detail.value ),\"yyyy-MM-dd\");\n    console.log('Data Inicio ' + this.dtInicio);\n  }\n\n  // Carrega e tranforma a data fim\n  carregarDtFim(event){\n    this.dtFim = this.datePipe.transform(new Date( event.detail.value ),\"yyyy-MM-dd\");\n    console.log('Data Fim ' + this.dtFim);\n\n    this.carregarPeriodo();\n  }\n\n  async presentLoading() {\n    const loading = await this.loadingController.create({\n      cssClass: 'loadingClass',\n      message: 'Carregando...',\n      animated: true,\n      spinner: 'circles',\n      translucent: true\n    });\n    loading.present();\n    return loading;\n\n    //const { role, data } = await loading.onDidDismiss();\n  }\n\n  // Mostra o resumo por cidade da página relatorio\n  async mostrarPop( evento ) {\n\n    const popover = await this.popoverCtrl.create({\n      component: PopinfoComponent,\n      event: evento,\n      mode: 'ios',\n      translucent: true,\n      animated: true\n    });\n\n    await popover.present();\n  }\n}\n"],"sourceRoot":""}