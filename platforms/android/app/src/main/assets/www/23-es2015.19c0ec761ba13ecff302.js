(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{o0Qb:function(l,n,o){"use strict";o.r(n);var t=o("8Y7J"),u=o("mrSG"),e=o("bRl7"),i=o("wh8y"),r=o("n90K"),a=o("ZZ/e"),c=o("x4fO");class b{constructor(l,n,o,t,u,e,i){this.bluetoothSerial=l,this.contribService=n,this.datePipe=o,this.storage=t,this.popoverCtrl=u,this.loadingController=e,this.toastCtrl=i,this.dtStart=new Date,this.dtEnd=new Date(this.dtStart.getFullYear(),this.dtStart.getMonth()+1,0),this.dtInicio=" ",this.dtFim=" "}ngOnInit(){this.conversorDate(),this.carregarPeriodo()}carregarPeriodo(){this.carregarResumo()}carregarResumo(){return u.b(this,void 0,void 0,function*(){let l=yield this.presentLoading();this.contribService.getResumo(this.dtInicio,this.dtFim).subscribe(n=>{this.objetos=n,l.dismiss()}),this.connect()})}connect(){this.bluetoothSerial.connectInsecure("00:02:5B:B4:13:87").subscribe(l=>{console.log("Conectado",l)}),this.presentToast("IMPRESSORA CONECTADA!")}disconnectDevices(){this.bluetoothSerial.disconnect().then(l=>{console.log("Dispositivo desconectado.",l)}),this.bluetoothSerial.clear().then(()=>{console.log("Limpo")})}presentToast(l){return u.b(this,void 0,void 0,function*(){(yield this.toastCtrl.create({message:l,duration:2e3,mode:"ios",color:"dark"})).present()})}Imprimir(){this.conversorDate(),this.bluetoothSerial.write("Contabilizando o Periodo:\nDE"+this.dtInicio+" A "+this.dtFim+"\nTotal de contribuicoes: R$"+this.objetos.totalQtd+"\nA Receber: R$"+this.objetos.valorEmAberto.toFixed(2)+"\nRecebidas: "+this.objetos.qtdRecebido+"\nDevolvidas: "+this.objetos.qtdDevolvido+"\nCanceladas: "+this.objetos.qtdCancelado+"\n\n\n"),console.log("Imprimindo")}mostrarRecidos(){this.storage.setRecibos(this.objetos),console.log("Recibos salvos",this.objetos)}conversorDate(){this.dtInicio=this.datePipe.transform(this.dtStart,"yyyy-MM-dd"),this.dtFim=this.datePipe.transform(this.dtEnd,"yyyy-MM-dd")}carregarDtInicio(l){this.dtInicio=this.datePipe.transform(new Date(l.detail.value),"yyyy-MM-dd"),console.log("Data Inicio "+this.dtInicio)}carregarDtFim(l){this.dtFim=this.datePipe.transform(new Date(l.detail.value),"yyyy-MM-dd"),console.log("Data Fim "+this.dtFim),this.carregarPeriodo()}presentLoading(){return u.b(this,void 0,void 0,function*(){const l=yield this.loadingController.create({cssClass:"loadingClass",message:"Carregando...",animated:!0,spinner:"circles",translucent:!0});return l.present(),l})}mostrarPop(l){return u.b(this,void 0,void 0,function*(){const n=yield this.popoverCtrl.create({component:c.a,event:l,mode:"ios",translucent:!0,animated:!0});yield n.present()})}}class s{}var d=o("rYUz"),h=o("qD9K"),p=o("pMnS"),g=o("oBZk"),m=o("s7LF"),k=o("SVse"),f=t.ob({encapsulation:0,styles:[[".buttonPrint[_ngcontent-%COMP%]{--color-activated:#3880ff!important;color:#10dc60}.calendarStart[_ngcontent-%COMP%]{position:fixed;top:25px;right:50%;--ripple-color:#192035!important}.calendarEnd[_ngcontent-%COMP%]{position:fixed;top:25px;left:50%;--ripple-color:#192035!important}.itemCalendar[_ngcontent-%COMP%]{--inner-padding-bottom:5%!important}.sizeLabel[_ngcontent-%COMP%]{font-size:20px}.ListPorCidade[_ngcontent-%COMP%]{--background:none;background-color:#d7d8da!important}.LabelPeriodo[_ngcontent-%COMP%]{margin-bottom:15%!important}.SizeToolbar[_ngcontent-%COMP%]{height:70px}.ButtonPorCidade[_ngcontent-%COMP%]{--border-radius:10px!important}.loadingClass[_ngcontent-%COMP%]{--background:none;--background-color:#192035!important;--spinner-color:#0ef366!important}"]],data:{}});function q(l){return t.Jb(0,[(l()(),t.qb(0,0,null,null,86,"ion-list",[],null,null,null,g.ab,g.s)),t.pb(1,49152,null,0,a.P,[t.h,t.k,t.x],null,null),(l()(),t.qb(2,0,null,0,28,"ion-toolbar",[["class","SizeToolbar"],["color","success"],["text-center",""]],null,null,null,g.pb,g.H)),t.pb(3,49152,null,0,a.Cb,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(4,0,null,0,2,"ion-label",[["class","LabelPeriodo"]],null,null,null,g.Z,g.r)),t.pb(5,49152,null,0,a.O,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["Per\xedodo"])),(l()(),t.qb(7,0,null,0,11,"ion-button",[["class","calendarStart"],["color","dark"],["fill","clear"],["slot","start"]],null,null,null,g.L,g.d)),t.pb(8,49152,null,0,a.l,[t.h,t.k,t.x],{color:[0,"color"],fill:[1,"fill"]},null),(l()(),t.Hb(-1,0,["De "])),(l()(),t.qb(10,0,null,0,1,"ion-icon",[["name","calendar"]],null,null,null,g.W,g.o)),t.pb(11,49152,null,0,a.D,[t.h,t.k,t.x],{name:[0,"name"]},null),(l()(),t.qb(12,0,null,0,6,"ion-datetime",[["cancelText","Cancelar"],["class","dateTime-1"],["display-format","DD/MM/YYYY"],["done-text","Ok"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionChange"],[null,"ionBlur"]],function(l,n,o){var u=!0,e=l.component;return"ionBlur"===n&&(u=!1!==t.Bb(l,13)._handleBlurEvent(o.target)&&u),"ionChange"===n&&(u=!1!==t.Bb(l,13)._handleChangeEvent(o.target)&&u),"ionChange"===n&&(u=!1!==e.carregarDtInicio(o)&&u),u},g.T,g.l)),t.pb(13,16384,null,0,a.Mb,[t.k],null,null),t.Eb(1024,null,m.b,function(l){return[l]},[a.Mb]),t.pb(15,671744,null,0,m.e,[[8,null],[8,null],[8,null],[6,m.b]],{model:[0,"model"]},null),t.Eb(2048,null,m.c,null,[m.e]),t.pb(17,16384,null,0,m.d,[[4,m.c]],null,null),t.pb(18,49152,null,0,a.w,[t.h,t.k,t.x],{cancelText:[0,"cancelText"]},null),(l()(),t.qb(19,0,null,0,11,"ion-button",[["class","calendarEnd"],["color","dark"],["fill","clear"],["slot","start"]],null,null,null,g.L,g.d)),t.pb(20,49152,null,0,a.l,[t.h,t.k,t.x],{color:[0,"color"],fill:[1,"fill"]},null),(l()(),t.Hb(-1,0,["At\xe9 "])),(l()(),t.qb(22,0,null,0,1,"ion-icon",[["name","calendar"]],null,null,null,g.W,g.o)),t.pb(23,49152,null,0,a.D,[t.h,t.k,t.x],{name:[0,"name"]},null),(l()(),t.qb(24,0,null,0,6,"ion-datetime",[["cancelText","Cancelar"],["class","dateTime-2"],["display-format","DD/MM/YYYY"],["done-text","Ok"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionChange"],[null,"ionBlur"]],function(l,n,o){var u=!0,e=l.component;return"ionBlur"===n&&(u=!1!==t.Bb(l,25)._handleBlurEvent(o.target)&&u),"ionChange"===n&&(u=!1!==t.Bb(l,25)._handleChangeEvent(o.target)&&u),"ionChange"===n&&(u=!1!==e.carregarDtFim(o)&&u),u},g.T,g.l)),t.pb(25,16384,null,0,a.Mb,[t.k],null,null),t.Eb(1024,null,m.b,function(l){return[l]},[a.Mb]),t.pb(27,671744,null,0,m.e,[[8,null],[8,null],[8,null],[6,m.b]],{model:[0,"model"]},null),t.Eb(2048,null,m.c,null,[m.e]),t.pb(29,16384,null,0,m.d,[[4,m.c]],null,null),t.pb(30,49152,null,0,a.w,[t.h,t.k,t.x],{cancelText:[0,"cancelText"]},null),(l()(),t.qb(31,0,null,0,3,"ion-button",[["class","ButtonPorCidade"],["color","success"],["expand","block"],["fill","outline"]],null,[[null,"click"]],function(l,n,o){var t=!0;return"click"===n&&(t=!1!==l.component.mostrarPop(o)&&t),t},g.L,g.d)),t.pb(32,49152,null,0,a.l,[t.h,t.k,t.x],{color:[0,"color"],expand:[1,"expand"],fill:[2,"fill"]},null),(l()(),t.qb(33,0,null,0,1,"b",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Ver Por Cidade"])),(l()(),t.qb(35,0,null,0,51,"ion-card",[["color","light"]],null,null,null,g.Q,g.f)),t.pb(36,49152,null,0,a.n,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(37,0,null,0,6,"ion-item",[["color","medium"]],null,null,null,g.Y,g.q)),t.pb(38,49152,null,0,a.I,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(39,0,null,0,4,"ion-label",[],null,null,null,g.Z,g.r)),t.pb(40,49152,null,0,a.O,[t.h,t.k,t.x],null,null),(l()(),t.qb(41,0,null,0,1,"b",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Recebidos (Hoje):"])),(l()(),t.Hb(43,0,[" R$ ",""])),(l()(),t.qb(44,0,null,0,6,"ion-item",[["color","light"]],null,null,null,g.Y,g.q)),t.pb(45,49152,null,0,a.I,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(46,0,null,0,4,"ion-label",[],null,null,null,g.Z,g.r)),t.pb(47,49152,null,0,a.O,[t.h,t.k,t.x],null,null),(l()(),t.qb(48,0,null,0,1,"b",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Total de contribui\xe7\xf5es:"])),(l()(),t.Hb(50,0,[" R$ ",""])),(l()(),t.qb(51,0,null,0,6,"ion-item",[["color","light"]],null,null,null,g.Y,g.q)),t.pb(52,49152,null,0,a.I,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(53,0,null,0,4,"ion-label",[],null,null,null,g.Z,g.r)),t.pb(54,49152,null,0,a.O,[t.h,t.k,t.x],null,null),(l()(),t.qb(55,0,null,0,1,"b",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["A Receber:"])),(l()(),t.Hb(57,0,[" R$ ",""])),(l()(),t.qb(58,0,null,0,6,"ion-item",[["color","light"]],null,null,null,g.Y,g.q)),t.pb(59,49152,null,0,a.I,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(60,0,null,0,4,"ion-label",[["color","medium"]],null,null,null,g.Z,g.r)),t.pb(61,49152,null,0,a.O,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(62,0,null,0,1,"b",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Em Aberto:"])),(l()(),t.Hb(64,0,[" ",""])),(l()(),t.qb(65,0,null,0,6,"ion-item",[["color","light"]],null,null,null,g.Y,g.q)),t.pb(66,49152,null,0,a.I,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(67,0,null,0,4,"ion-label",[["color","success"]],null,null,null,g.Z,g.r)),t.pb(68,49152,null,0,a.O,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(69,0,null,0,1,"b",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Recebidas:"])),(l()(),t.Hb(71,0,[" ",""])),(l()(),t.qb(72,0,null,0,6,"ion-item",[["color","light"]],null,null,null,g.Y,g.q)),t.pb(73,49152,null,0,a.I,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(74,0,null,0,4,"ion-label",[["color","danger"]],null,null,null,g.Z,g.r)),t.pb(75,49152,null,0,a.O,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(76,0,null,0,1,"b",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Devolvidas:"])),(l()(),t.Hb(78,0,[" ",""])),(l()(),t.qb(79,0,null,0,6,"ion-item",[["color","light"]],null,null,null,g.Y,g.q)),t.pb(80,49152,null,0,a.I,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(81,0,null,0,4,"ion-label",[["color","danger"]],null,null,null,g.Z,g.r)),t.pb(82,49152,null,0,a.O,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(83,0,null,0,1,"b",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,["Canceladas:"])),(l()(),t.Hb(85,0,[" ",""])),(l()(),t.qb(86,0,null,0,0,"br",[],null,null,null,null,null))],function(l,n){var o=n.component;l(n,3,0,"success"),l(n,8,0,"dark","clear"),l(n,11,0,"calendar"),l(n,15,0,o.dtStart.toISOString()),l(n,18,0,"Cancelar"),l(n,20,0,"dark","clear"),l(n,23,0,"calendar"),l(n,27,0,o.dtEnd.toISOString()),l(n,30,0,"Cancelar"),l(n,32,0,"success","block","outline"),l(n,36,0,"light"),l(n,38,0,"medium"),l(n,45,0,"light"),l(n,52,0,"light"),l(n,59,0,"light"),l(n,61,0,"medium"),l(n,66,0,"light"),l(n,68,0,"success"),l(n,73,0,"light"),l(n,75,0,"danger"),l(n,80,0,"light"),l(n,82,0,"danger")},function(l,n){var o=n.component;l(n,12,0,t.Bb(n,17).ngClassUntouched,t.Bb(n,17).ngClassTouched,t.Bb(n,17).ngClassPristine,t.Bb(n,17).ngClassDirty,t.Bb(n,17).ngClassValid,t.Bb(n,17).ngClassInvalid,t.Bb(n,17).ngClassPending),l(n,24,0,t.Bb(n,29).ngClassUntouched,t.Bb(n,29).ngClassTouched,t.Bb(n,29).ngClassPristine,t.Bb(n,29).ngClassDirty,t.Bb(n,29).ngClassValid,t.Bb(n,29).ngClassInvalid,t.Bb(n,29).ngClassPending),l(n,43,0,o.objetos.qtdRecebido.toFixed(2)),l(n,50,0,o.objetos.totalQtd.toFixed(2)),l(n,57,0,o.objetos.valorEmAberto.toFixed(2)),l(n,64,0,o.objetos.qtdEmAberto),l(n,71,0,o.objetos.qtdRecebido),l(n,78,0,o.objetos.qtdDevolvido),l(n,85,0,o.objetos.qtdCancelado)})}function x(l){return t.Jb(0,[(l()(),t.qb(0,0,null,null,19,"ion-header",[],null,null,null,g.V,g.n)),t.pb(1,49152,null,0,a.C,[t.h,t.k,t.x],null,null),(l()(),t.qb(2,0,null,0,17,"ion-toolbar",[["color","dark"]],null,null,null,g.pb,g.H)),t.pb(3,49152,null,0,a.Cb,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(4,0,null,0,3,"ion-button",[["class","buttonPrint"],["fill","clear"],["slot","end"]],null,[[null,"click"]],function(l,n,o){var t=!0;return"click"===n&&(t=!1!==l.component.Imprimir()&&t),t},g.L,g.d)),t.pb(5,49152,null,0,a.l,[t.h,t.k,t.x],{fill:[0,"fill"]},null),(l()(),t.qb(6,0,null,0,1,"ion-icon",[["name","print"]],null,null,null,g.W,g.o)),t.pb(7,49152,null,0,a.D,[t.h,t.k,t.x],{name:[0,"name"]},null),(l()(),t.qb(8,0,null,0,3,"ion-button",[["class","buttonPrint"],["fill","clear"],["slot","end"]],null,[[null,"click"]],function(l,n,o){var t=!0;return"click"===n&&(t=!1!==l.component.mostrarRecidos()&&t),t},g.L,g.d)),t.pb(9,49152,null,0,a.l,[t.h,t.k,t.x],{fill:[0,"fill"]},null),(l()(),t.qb(10,0,null,0,1,"ion-icon",[["name","save"]],null,null,null,g.W,g.o)),t.pb(11,49152,null,0,a.D,[t.h,t.k,t.x],{name:[0,"name"]},null),(l()(),t.qb(12,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,g.M,g.e)),t.pb(13,49152,null,0,a.m,[t.h,t.k,t.x],null,null),(l()(),t.qb(14,0,null,0,2,"ion-back-button",[["defaultHref","/"]],null,[[null,"click"]],function(l,n,o){var u=!0;return"click"===n&&(u=!1!==t.Bb(l,16).onClick(o)&&u),u},g.K,g.c)),t.pb(15,49152,null,0,a.h,[t.h,t.k,t.x],{defaultHref:[0,"defaultHref"]},null),t.pb(16,16384,null,0,a.i,[[2,a.ib],a.Ib],{defaultHref:[0,"defaultHref"]},null),(l()(),t.qb(17,0,null,0,2,"ion-title",[],null,null,null,g.nb,g.F)),t.pb(18,49152,null,0,a.Ab,[t.h,t.k,t.x],null,null),(l()(),t.Hb(-1,0,["Relat\xf3rios"])),(l()(),t.qb(20,0,null,null,9,"ion-content",[["color","light"]],null,null,null,g.S,g.k)),t.pb(21,49152,null,0,a.v,[t.h,t.k,t.x],{color:[0,"color"]},null),(l()(),t.qb(22,0,null,0,7,"ion-grid",[],null,null,null,g.U,g.m)),t.pb(23,49152,null,0,a.B,[t.h,t.k,t.x],null,null),(l()(),t.qb(24,0,null,0,5,"ion-row",[],null,null,null,g.db,g.v)),t.pb(25,49152,null,0,a.jb,[t.h,t.k,t.x],null,null),(l()(),t.qb(26,0,null,0,3,"ion-col",[],null,null,null,g.R,g.j)),t.pb(27,49152,null,0,a.u,[t.h,t.k,t.x],null,null),(l()(),t.fb(16777216,null,0,1,null,q)),t.pb(29,16384,null,0,k.j,[t.L,t.I],{ngIf:[0,"ngIf"]},null)],function(l,n){var o=n.component;l(n,3,0,"dark"),l(n,5,0,"clear"),l(n,7,0,"print"),l(n,9,0,"clear"),l(n,11,0,"save"),l(n,15,0,"/"),l(n,16,0,"/"),l(n,21,0,"light"),l(n,29,0,o.objetos)},null)}function C(l){return t.Jb(0,[(l()(),t.qb(0,0,null,null,1,"app-relatorio",[],null,null,null,x,f)),t.pb(1,114688,null,0,b,[e.a,i.a,k.d,r.a,a.Lb,a.Gb,a.Ob],null,null)],function(l,n){l(n,1,0)},null)}var v=t.mb("app-relatorio",b,C,{objetos:"objetos"},{},[]),P=o("j1ZV"),D=o("iInd");o.d(n,"RelatorioPageModuleNgFactory",function(){return y});var y=t.nb(s,[],function(l){return t.yb([t.zb(512,t.j,t.Y,[[8,[d.a,h.a,p.a,v]],[3,t.j],t.v]),t.zb(4608,k.l,k.k,[t.s,[2,k.v]]),t.zb(4608,m.g,m.g,[]),t.zb(4608,a.c,a.c,[t.x,t.g]),t.zb(4608,a.Hb,a.Hb,[a.c,t.j,t.p]),t.zb(4608,a.Lb,a.Lb,[a.c,t.j,t.p]),t.zb(1073742336,k.b,k.b,[]),t.zb(1073742336,m.f,m.f,[]),t.zb(1073742336,m.a,m.a,[]),t.zb(1073742336,a.Eb,a.Eb,[]),t.zb(1073742336,P.a,P.a,[]),t.zb(1073742336,D.n,D.n,[[2,D.s],[2,D.m]]),t.zb(1073742336,s,s,[]),t.zb(1024,D.k,function(){return[[{path:"",component:b}]]},[])])})}}]);