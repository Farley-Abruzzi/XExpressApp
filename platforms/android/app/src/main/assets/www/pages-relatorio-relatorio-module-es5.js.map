{"version":3,"sources":["./src/app/pages/relatorio/relatorio.page.html","./src/app/pages/relatorio/relatorio.module.ts","./src/app/pages/relatorio/relatorio.page.scss","./src/app/pages/relatorio/relatorio.page.ts"],"names":[],"mappings":"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","file":"pages-relatorio-relatorio-module-es5.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n    <ion-toolbar color=\\\"dark\\\">\\r\\n        <ion-button class=\\\"buttonPrint\\\" slot=\\\"end\\\" fill=\\\"clear\\\" (click)=\\\"Imprimir()\\\">\\r\\n            <ion-icon name=\\\"print\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <ion-toggle color=\\\"success\\\" slot=\\\"end\\\" [ngModel]=\\\"conectPrint\\\" (ionChange)=\\\"connectOrDisconnectPrint()\\\"></ion-toggle>\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n            <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title>Relatórios</ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content color=\\\"light\\\">\\r\\n    <ion-grid>\\r\\n        <ion-row>\\r\\n            <ion-col>\\r\\n\\r\\n                <ion-list *ngIf=\\\"objetos\\\">\\r\\n                    <ion-toolbar class=\\\"SizeToolbar\\\" text-center color=\\\"success\\\">\\r\\n                        <ion-label class=\\\"LabelPeriodo\\\">Período</ion-label>\\r\\n                        <ion-button color=\\\"dark\\\" class=\\\"calendarStart\\\" slot=\\\"start\\\" fill=\\\"clear\\\">De\\r\\n                            <ion-icon name=\\\"calendar\\\"></ion-icon>\\r\\n                            <ion-datetime class=\\\"dateTime-1\\\" cancelText=\\\"Cancelar\\\" done-text=\\\"Ok\\\" (ionChange)=\\\"carregarDtInicio( $event )\\\" [ngModel]=\\\"dtStart.toISOString()\\\" display-format=\\\"DD/MM/YYYY\\\"></ion-datetime>\\r\\n                        </ion-button>\\r\\n\\r\\n                        <ion-button color=\\\"dark\\\" class=\\\"calendarEnd\\\" slot=\\\"start\\\" fill=\\\"clear\\\">Até\\r\\n                            <ion-icon name=\\\"calendar\\\"></ion-icon>\\r\\n                            <ion-datetime class=\\\"dateTime-2\\\" cancelText=\\\"Cancelar\\\" done-text=\\\"Ok\\\" (ionChange)=\\\"carregarDtFim( $event )\\\" [ngModel]=\\\"dtEnd.toISOString()\\\" display-format=\\\"DD/MM/YYYY\\\"></ion-datetime>\\r\\n                        </ion-button>\\r\\n                    </ion-toolbar>\\r\\n\\r\\n                    <ion-button class=\\\"ButtonPorCidade\\\" expand=\\\"block\\\" fill=\\\"outline\\\" (click)=\\\"mostrarPop( $event )\\\" color=\\\"success\\\">\\r\\n                        <b>Ver Por Cidade</b>\\r\\n                    </ion-button>\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n                    <ion-card color=\\\"light\\\">\\r\\n                        <!-- Lista de contabilização por período. -->\\r\\n                        <ion-item color=\\\"medium\\\">\\r\\n                            <ion-label><b>Recebidos (Hoje):</b> {{ objetos.qtdRecebido | currency: 'BRL':true }}</ion-label>\\r\\n                        </ion-item>\\r\\n                        <ion-item color=\\\"light\\\">\\r\\n                            <ion-label><b>Total de contribuições:</b> {{ objetos.totalQtd | currency: 'BRL':true }}</ion-label>\\r\\n                        </ion-item>\\r\\n                        <ion-item color=\\\"light\\\">\\r\\n                            <ion-label><b>A Receber:</b> {{ objetos.valorEmAberto | currency: 'BRL':true }}</ion-label>\\r\\n                        </ion-item>\\r\\n                        <ion-item color=\\\"light\\\">\\r\\n                            <ion-label color=\\\"medium\\\"><b>Em Aberto:</b> {{ objetos.qtdEmAberto }}</ion-label>\\r\\n                        </ion-item>\\r\\n                        <ion-item color=\\\"light\\\">\\r\\n                            <ion-label color=\\\"success\\\"><b>Recebidas:</b> {{ objetos.qtdRecebido }}</ion-label>\\r\\n                        </ion-item>\\r\\n                        <ion-item color=\\\"light\\\">\\r\\n                            <ion-label color=\\\"danger\\\"><b>Devolvidas:</b> {{ objetos.qtdDevolvido }}</ion-label>\\r\\n                        </ion-item>\\r\\n                        <ion-item color=\\\"light\\\">\\r\\n                            <ion-label color=\\\"danger\\\"><b>Canceladas:</b> {{ objetos.qtdCancelado }}</ion-label>\\r\\n                        </ion-item>\\r\\n                        <br>\\r\\n                    </ion-card>\\r\\n                </ion-list>\\r\\n\\r\\n            </ion-col>\\r\\n        </ion-row>\\r\\n    </ion-grid>\\r\\n\\r\\n</ion-content>\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { RelatorioPage } from './relatorio.page';\r\nimport { ComponentsModule } from '../../components/components.module';\r\nimport { PopinfoComponent } from '../../components/popresumo/popinfo.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: RelatorioPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  entryComponents: [\r\n    PopinfoComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ComponentsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [RelatorioPage]\r\n})\r\nexport class RelatorioPageModule {}\r\n","module.exports = \".buttonPrint {\\n  --color-activated: #3880ff !important;\\n  color: #10dc60;\\n}\\n\\n.calendarStart {\\n  position: fixed;\\n  top: 25px;\\n  right: 50%;\\n  --ripple-color: #192035 !important;\\n}\\n\\n.calendarEnd {\\n  position: fixed;\\n  top: 25px;\\n  left: 50%;\\n  --ripple-color: #192035 !important;\\n}\\n\\n.itemCalendar {\\n  --inner-padding-bottom: 5% !important;\\n}\\n\\n.sizeLabel {\\n  font-size: 20px;\\n}\\n\\n.ListPorCidade {\\n  --background: none;\\n  background-color: #d7d8da !important;\\n}\\n\\n.LabelPeriodo {\\n  margin-bottom: 15% !important;\\n}\\n\\n.SizeToolbar {\\n  height: 70px;\\n}\\n\\n.ButtonPorCidade {\\n  --border-radius: 10px !important;\\n}\\n\\n.loadingClass {\\n  --background: none;\\n  --background-color: #192035 !important;\\n  --spinner-color: #0ef366 !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcmVsYXRvcmlvL0M6XFx0ZW1wXFx3cy1pb25pY1xcWEV4cHJlc3NBcHAvc3JjXFxhcHBcXHBhZ2VzXFxyZWxhdG9yaW9cXHJlbGF0b3Jpby5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL3JlbGF0b3Jpby9yZWxhdG9yaW8ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0kscUNBQUE7RUFDQSxjQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7RUFDQSxrQ0FBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0VBQ0Esa0NBQUE7QUNDSjs7QURFQTtFQUNJLHFDQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0FDQ0o7O0FERUE7RUFDSSxrQkFBQTtFQUNBLG9DQUFBO0FDQ0o7O0FERUE7RUFDSSw2QkFBQTtBQ0NKOztBREVBO0VBQ0ksWUFBQTtBQ0NKOztBREVBO0VBQ0ksZ0NBQUE7QUNDSjs7QURFQTtFQUNJLGtCQUFBO0VBQ0Esc0NBQUE7RUFDQSxtQ0FBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcmVsYXRvcmlvL3JlbGF0b3Jpby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYnV0dG9uUHJpbnQge1xyXG4gICAgLS1jb2xvci1hY3RpdmF0ZWQ6ICMzODgwZmYgIWltcG9ydGFudDtcclxuICAgIGNvbG9yOiAjMTBkYzYwO1xyXG59XHJcblxyXG4uY2FsZW5kYXJTdGFydCB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICB0b3A6IDI1cHg7XHJcbiAgICByaWdodDogNTAlO1xyXG4gICAgLS1yaXBwbGUtY29sb3I6ICMxOTIwMzUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLmNhbGVuZGFyRW5kIHtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICAgIHRvcDogMjVweDtcclxuICAgIGxlZnQ6IDUwJTtcclxuICAgIC0tcmlwcGxlLWNvbG9yOiAjMTkyMDM1ICFpbXBvcnRhbnQ7XHJcbn1cclxuXHJcbi5pdGVtQ2FsZW5kYXIge1xyXG4gICAgLS1pbm5lci1wYWRkaW5nLWJvdHRvbTogNSUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLnNpemVMYWJlbCB7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbn1cclxuXHJcbi5MaXN0UG9yQ2lkYWRlIHtcclxuICAgIC0tYmFja2dyb3VuZDogbm9uZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNkN2Q4ZGEgIWltcG9ydGFudDtcclxufVxyXG5cclxuLkxhYmVsUGVyaW9kbyB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNSUgIWltcG9ydGFudDtcclxufVxyXG5cclxuLlNpemVUb29sYmFyIHtcclxuICAgIGhlaWdodDogNzBweDtcclxufVxyXG5cclxuLkJ1dHRvblBvckNpZGFkZSB7XHJcbiAgICAtLWJvcmRlci1yYWRpdXM6IDEwcHggIWltcG9ydGFudDtcclxufVxyXG5cclxuLmxvYWRpbmdDbGFzcyB7XHJcbiAgICAtLWJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICAtLWJhY2tncm91bmQtY29sb3I6ICMxOTIwMzUgIWltcG9ydGFudDtcclxuICAgIC0tc3Bpbm5lci1jb2xvcjogIzBlZjM2NiAhaW1wb3J0YW50O1xyXG59IiwiLmJ1dHRvblByaW50IHtcbiAgLS1jb2xvci1hY3RpdmF0ZWQ6ICMzODgwZmYgIWltcG9ydGFudDtcbiAgY29sb3I6ICMxMGRjNjA7XG59XG5cbi5jYWxlbmRhclN0YXJ0IHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDI1cHg7XG4gIHJpZ2h0OiA1MCU7XG4gIC0tcmlwcGxlLWNvbG9yOiAjMTkyMDM1ICFpbXBvcnRhbnQ7XG59XG5cbi5jYWxlbmRhckVuZCB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgdG9wOiAyNXB4O1xuICBsZWZ0OiA1MCU7XG4gIC0tcmlwcGxlLWNvbG9yOiAjMTkyMDM1ICFpbXBvcnRhbnQ7XG59XG5cbi5pdGVtQ2FsZW5kYXIge1xuICAtLWlubmVyLXBhZGRpbmctYm90dG9tOiA1JSAhaW1wb3J0YW50O1xufVxuXG4uc2l6ZUxhYmVsIHtcbiAgZm9udC1zaXplOiAyMHB4O1xufVxuXG4uTGlzdFBvckNpZGFkZSB7XG4gIC0tYmFja2dyb3VuZDogbm9uZTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Q3ZDhkYSAhaW1wb3J0YW50O1xufVxuXG4uTGFiZWxQZXJpb2RvIHtcbiAgbWFyZ2luLWJvdHRvbTogMTUlICFpbXBvcnRhbnQ7XG59XG5cbi5TaXplVG9vbGJhciB7XG4gIGhlaWdodDogNzBweDtcbn1cblxuLkJ1dHRvblBvckNpZGFkZSB7XG4gIC0tYm9yZGVyLXJhZGl1czogMTBweCAhaW1wb3J0YW50O1xufVxuXG4ubG9hZGluZ0NsYXNzIHtcbiAgLS1iYWNrZ3JvdW5kOiBub25lO1xuICAtLWJhY2tncm91bmQtY29sb3I6ICMxOTIwMzUgIWltcG9ydGFudDtcbiAgLS1zcGlubmVyLWNvbG9yOiAjMGVmMzY2ICFpbXBvcnRhbnQ7XG59Il19 */\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { BluetoothSerial } from '@ionic-native/bluetooth-serial/ngx';\r\nimport { ContribuintesService } from '../../services/contribuintes.service';\r\nimport { Resumo } from '../../interfaces/resumo';\r\nimport { DatePipe } from '@angular/common';\r\nimport { StorageService } from '../../services/storage.service';\r\nimport { LoadingController, PopoverController, ToastController } from '@ionic/angular';\r\nimport { PopinfoComponent } from '../../components/popresumo/popinfo.component';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-relatorio',\r\n  templateUrl: './relatorio.page.html',\r\n  styleUrls: ['./relatorio.page.scss'],\r\n})\r\nexport class RelatorioPage implements OnInit {\r\n\r\n  @Input() objetos: Resumo;\r\n\r\n  dtStart: Date = new Date();\r\n  dtEnd: Date = new Date(this.dtStart.getFullYear(), this.dtStart.getMonth() + 1, 0);\r\n  dtInicio: string = \" \";\r\n  dtFim: string = \" \";\r\n  conectPrint: boolean = false;\r\n\r\n  constructor( private bluetoothSerial: BluetoothSerial,\r\n               private contribService: ContribuintesService,\r\n               private datePipe: DatePipe,\r\n               private storage: StorageService,\r\n               private popoverCtrl: PopoverController,\r\n               private loadingController: LoadingController,\r\n               private toastCtrl: ToastController) { }\r\n\r\n\r\n  ngOnInit() {\r\n    this.conversorDate();\r\n    this.carregarPeriodo();\r\n    // this.carregarResumo();\r\n  }\r\n\r\n  // Método para carregar a contabilização por período após a seleção da data início e fim.\r\n  // Carrega também os recibos por cidade através do mesmo seletor de data.\r\n  carregarPeriodo() {\r\n    this.carregarResumo();\r\n    this.conectPrint = true;\r\n    // this.carregarResumoPorCidade();\r\n  }\r\n\r\n  // Carrega o objeto de resumo do mensageiro.\r\n  async carregarResumo() {\r\n    let loading = await this.presentLoading();\r\n     this.contribService.getResumo(this.dtInicio, this.dtFim)\r\n      .subscribe( resp => {\r\n        this.objetos = resp;\r\n        loading.dismiss();\r\n      }, error => {\r\n        console.log(error);\r\n        loading.dismiss();\r\n      });\r\n  }\r\n\r\n\r\n  // Mostrando mensagens de confirmação no Toast\r\n  async presentToast( message: string ) {\r\n    const toast = await this.toastCtrl.create({\r\n      message,\r\n      duration: 2000,\r\n      mode: \"ios\",\r\n      color: \"dark\"\r\n    });\r\n    toast.present();\r\n}\r\n\r\n  // Imprime as informações relacionadas na impressora.\r\n  Imprimir() {\r\n    this.conversorDate();\r\n    \r\n    this.bluetoothSerial.write(\r\n      'Contabilizando o Periodo:\\n'+'DE' + this.dtInicio +' A '+ this.dtFim + '\\n' +\r\n      'Total de contribuicoes: R$' + this.objetos.totalQtd + '\\n' +\r\n      'A Receber: R$' + this.objetos.valorEmAberto.toFixed(2) + '\\n' +\r\n      'Recebidas: ' + this.objetos.qtdRecebido + '\\n' +\r\n      'Devolvidas: '+ this.objetos.qtdDevolvido + '\\n' +\r\n      'Canceladas: '+ this.objetos.qtdCancelado + '\\n\\n\\n'\r\n      );\r\n      console.log('Imprimindo');\r\n    }\r\n\r\n  // Teste, guarda recibos no local storage\r\n  // mostrarRecidos() {\r\n  //   this.storage.setRecibos( this.objetos );\r\n  //   console.log('Recibos salvos', this.objetos );\r\n  // }\r\n\r\n  // converte datas\r\n  conversorDate(): void {\r\n   this.dtInicio = this.datePipe.transform(this.dtStart,\"yyyy-MM-dd\");\r\n   this.dtFim = this.datePipe.transform(this.dtEnd,\"yyyy-MM-dd\");\r\n  }\r\n\r\n  // Carrega e transforma a data inicio\r\n  carregarDtInicio(event){\r\n    this.dtInicio = this.datePipe.transform(new Date( event.detail.value ),\"yyyy-MM-dd\");\r\n    console.log('Data Inicio ' + this.dtInicio);\r\n  }\r\n\r\n  // Carrega e tranforma a data fim\r\n  carregarDtFim(event){\r\n    this.dtFim = this.datePipe.transform(new Date( event.detail.value ),\"yyyy-MM-dd\");\r\n    console.log('Data Fim ' + this.dtFim);\r\n\r\n    this.carregarPeriodo();\r\n  }\r\n\r\n  async presentLoading() {\r\n    const loading = await this.loadingController.create({\r\n      cssClass: 'loadingClass',\r\n      message: 'Carregando...',\r\n      animated: true,\r\n      spinner: 'circles',\r\n      translucent: true\r\n    });\r\n    loading.present();\r\n    return loading;\r\n\r\n    //const { role, data } = await loading.onDidDismiss();\r\n  }\r\n\r\n  // Método para conectar e desconectar o dispositivo a impressora via bluetooth.\r\n  connectOrDisconnectPrint() {\r\n    if (this.conectPrint = !this.conectPrint) {\r\n        this.bluetoothSerial.connectInsecure(\"02:36:0D:6B:4D:F3\" || \"00:02:5B:B4:13:18\" || \"02:23:BC:84:DE:C1\" || \"00:02:5B:B4:13:87\").subscribe((data) => {\r\n          console.log('Conectado', data);\r\n        });\r\n      this.presentToast('IMPRESSORA CONECTADA!');\r\n\r\n    } else {\r\n      this.bluetoothSerial.disconnect().then((error) => {\r\n        console.log('Desconectado.', error);\r\n      });\r\n      this.bluetoothSerial.clear().then(() => {\r\n        console.log('Limpo');\r\n      });\r\n      this.presentToast('IMPRESSORA DESCONECTADA!');\r\n    }\r\n  }\r\n\r\n  // Mostra o resumo por cidade da página relatorio\r\n  async mostrarPop( evento ) {\r\n\r\n    const popover = await this.popoverCtrl.create({\r\n      component: PopinfoComponent,\r\n      event: evento,\r\n      mode: 'ios',\r\n      translucent: true,\r\n      animated: true\r\n    });\r\n\r\n    await popover.present();\r\n  }\r\n}\r\n"],"sourceRoot":""}